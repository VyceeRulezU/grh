<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Governance Resource Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400&display=swap" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
<style>
/* ===== DESIGN TOKENS ===== */
:root {
  --primary: #4DA771;
  --primary-dark: #3a8a5a;
  --primary-light: #6bc48a;
  --secondary: #023137;
  --secondary-light: #044a52;
  --tertiary: #C4E8CF;
  --accent: #F5C518;
  --accent-dark: #d4a800;
  --bg: #f7f9f8;
  --bg-white: #ffffff;
  --text-primary: #0d1f1a;
  --text-secondary: #4a6461;
  --text-muted: #8fa8a3;
  --text-white: #ffffff;
  --border: #e0ede6;
  --shadow-sm: 0 1px 3px rgba(2,49,55,0.08);
  --shadow-md: 0 4px 16px rgba(2,49,55,0.1);
  --shadow-lg: 0 12px 40px rgba(2,49,55,0.14);
  --shadow-xl: 0 24px 64px rgba(2,49,55,0.18);
  --radius-sm: 8px;
  --radius-md: 14px;
  --radius-lg: 20px;
  --radius-xl: 28px;
  --radius-full: 999px;
  --transition: 0.25s cubic-bezier(0.4,0,0.2,1);
  --font: 'Montserrat', sans-serif;
  --max-width: 1280px;
  --nav-height: 68px;
}

/* ===== RESET ===== */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:var(--font);background:var(--bg);color:var(--text-primary);-webkit-font-smoothing:antialiased;overflow-x:hidden}
button{cursor:pointer;font-family:var(--font);border:none;background:none}
input,textarea,select{font-family:var(--font)}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
::-webkit-scrollbar{width:5px}
::-webkit-scrollbar-track{background:var(--tertiary)}
::-webkit-scrollbar-thumb{background:var(--primary);border-radius:3px}

/* ===== APP ===== */
.app{min-height:100vh}

/* ===== TOPNAV ===== */
.topnav{position:fixed;top:0;left:0;right:0;height:var(--nav-height);background:rgba(255,255,255,0.92);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--border);z-index:1000}
.topnav-inner{max-width:var(--max-width);margin:0 auto;padding:0 32px;height:100%;display:flex;align-items:center;justify-content:space-between;gap:24px}
.nav-logo{display:flex;align-items:center;gap:10px;font-weight:800;font-size:18px;color:var(--secondary)}
.logo-icon{color:var(--primary);font-size:20px}
.nav-links{display:flex;align-items:center;gap:4px;flex:1;justify-content:center}
.nav-link{padding:8px 16px;border-radius:var(--radius-full);font-size:14px;font-weight:600;color:var(--text-secondary);transition:var(--transition)}
.nav-link:hover{background:var(--tertiary);color:var(--secondary)}
.nav-link.active{background:var(--primary);color:white}
.nav-actions{display:flex;align-items:center;gap:12px}
.nav-user,.nav-auth{display:flex;align-items:center;gap:10px}
.avatar-btn{width:36px;height:36px;border-radius:50%;background:var(--primary);color:white;font-weight:700;font-size:14px;display:flex;align-items:center;justify-content:center}

/* ===== BUTTONS ===== */
.btn-primary{background:var(--primary);color:white;padding:12px 24px;border-radius:var(--radius-full);font-weight:700;font-size:14px;transition:var(--transition);border:none;cursor:pointer;font-family:var(--font)}
.btn-primary:hover{background:var(--primary-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}
.btn-primary:disabled{opacity:0.4;cursor:not-allowed;transform:none}
.btn-secondary{background:var(--secondary);color:white;padding:12px 24px;border-radius:var(--radius-full);font-weight:700;font-size:14px;transition:var(--transition)}
.btn-secondary:hover{background:var(--secondary-light)}
.btn-outline{background:transparent;color:var(--primary);border:2px solid var(--primary);padding:9px 20px;border-radius:var(--radius-full);font-weight:600;font-size:13px;transition:var(--transition);font-family:var(--font)}
.btn-outline:hover{background:var(--primary);color:white}
.btn-ghost{background:transparent;color:var(--text-secondary);padding:9px 16px;border-radius:var(--radius-full);font-weight:600;font-size:13px;transition:var(--transition)}
.btn-ghost:hover{background:var(--tertiary);color:var(--secondary)}
.btn-accent{background:var(--accent);color:var(--secondary);padding:12px 24px;border-radius:var(--radius-full);font-weight:700;font-size:14px;transition:var(--transition)}
.btn-accent:hover{background:var(--accent-dark);transform:translateY(-1px)}
.btn-sm{padding:8px 16px;font-size:13px}

/* ===== LAYOUT ===== */
.page-wrapper{padding-top:var(--nav-height);min-height:100vh}
.container{max-width:var(--max-width);margin:0 auto;padding:0 32px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:24px}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}
.grid-4{display:grid;grid-template-columns:repeat(4,1fr);gap:20px}

/* ===== COMMON ===== */
.section-label{display:inline-flex;align-items:center;gap:8px;background:var(--tertiary);color:var(--secondary);padding:6px 14px;border-radius:var(--radius-full);font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:16px}
.section-title{font-size:36px;font-weight:800;color:var(--secondary);line-height:1.2;margin-bottom:12px}
.section-subtitle{font-size:16px;color:var(--text-secondary);line-height:1.6;max-width:560px}
.badge{display:inline-flex;align-items:center;padding:4px 10px;border-radius:var(--radius-full);font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px}
.badge-green{background:var(--tertiary);color:var(--secondary)}
.badge-yellow{background:rgba(245,197,24,0.2);color:#8a6800}
.badge-blue{background:rgba(3,112,196,0.1);color:#035a9c}
.badge-gray{background:#f0f0f0;color:#555}
.progress-bar{width:100%;height:6px;background:var(--tertiary);border-radius:var(--radius-full);overflow:hidden}
.progress-fill{height:100%;background:var(--primary);border-radius:var(--radius-full);transition:width 0.5s ease}
.stars{color:var(--accent);font-size:14px;letter-spacing:2px}
.tabs{display:flex;gap:4px;border-bottom:2px solid var(--border);margin-bottom:28px}
.tab-btn{padding:10px 20px;font-size:14px;font-weight:600;color:var(--text-muted);border-bottom:2px solid transparent;margin-bottom:-2px;transition:var(--transition)}
.tab-btn:hover{color:var(--primary)}
.tab-btn.active{color:var(--primary);border-bottom-color:var(--primary)}
.input-field{width:100%;padding:13px 16px;border:1.5px solid var(--border);border-radius:var(--radius-md);font-family:var(--font);font-size:14px;color:var(--text-primary);background:white;transition:var(--transition)}
.input-field:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(77,167,113,0.12)}
.select-field{padding:11px 16px;border:1.5px solid var(--border);border-radius:var(--radius-md);font-family:var(--font);font-size:14px;color:var(--text-secondary);background:white;appearance:none;cursor:pointer}
.empty-state{text-align:center;padding:80px 0}
.empty-icon{font-size:56px;display:block;margin-bottom:16px}
.empty-state h3{font-size:20px;font-weight:700;color:var(--secondary);margin-bottom:8px}
.empty-state p{color:var(--text-muted)}
.action-btn{padding:5px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:12px;font-weight:600;color:var(--text-secondary);font-family:var(--font);transition:var(--transition)}
.action-btn:hover{background:var(--tertiary);border-color:var(--primary);color:var(--secondary)}

/* ===== MODAL ===== */
.modal-overlay{position:fixed;inset:0;background:rgba(2,49,55,0.5);backdrop-filter:blur(8px);z-index:9000;display:flex;align-items:center;justify-content:center;padding:24px;animation:fadeIn 0.2s ease}
.modal-card{background:white;border-radius:var(--radius-xl);padding:40px;width:100%;max-width:420px;position:relative;animation:slideUp 0.3s ease;box-shadow:var(--shadow-xl)}
.modal-close{position:absolute;top:16px;right:16px;width:32px;height:32px;border-radius:50%;background:var(--bg);color:var(--text-secondary);font-size:14px;display:flex;align-items:center;justify-content:center;transition:var(--transition)}
.modal-close:hover{background:var(--tertiary)}
.modal-header{margin-bottom:28px}
.modal-header h2{font-size:24px;font-weight:800;color:var(--secondary);margin-bottom:6px}
.modal-header p{font-size:14px;color:var(--text-muted)}
.modal-form{display:flex;flex-direction:column;gap:14px}
.modal-form input{padding:13px 16px;border:1.5px solid var(--border);border-radius:var(--radius-md);font-size:14px;transition:var(--transition);color:var(--text-primary);background:var(--bg);font-family:var(--font)}
.modal-form input:focus{outline:none;border-color:var(--primary);background:white}
.modal-switch{text-align:center;margin-top:20px;font-size:13px;color:var(--text-muted)}
.modal-switch button{color:var(--primary);font-weight:600;font-family:var(--font)}

/* ===== ANIMATIONS ===== */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
.animate-up{animation:slideUp 0.5s ease backwards}

/* ===== WELCOME PAGE ===== */
.welcome{min-height:100vh;display:flex;flex-direction:column;align-items:center;position:relative;overflow:hidden;padding-bottom:40px;background:linear-gradient(160deg,#f0f9f4 0%,#fafcfb 40%,#e8f5ee 100%)}
.welcome-bg{position:fixed;inset:0;pointer-events:none;z-index:0}
.bg-blob{position:absolute;border-radius:50%;filter:blur(80px);opacity:0.4}
.bg-blob-1{width:600px;height:600px;background:radial-gradient(circle,#C4E8CF,#4DA771);top:-200px;left:-150px}
.bg-blob-2{width:500px;height:500px;background:radial-gradient(circle,#e0f0e8,#023137);bottom:-100px;right:-100px;opacity:0.15}
.bg-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(2,49,55,0.04) 1px,transparent 1px),linear-gradient(90deg,rgba(2,49,55,0.04) 1px,transparent 1px);background-size:48px 48px}
.welcome-header{position:fixed;top:0;left:0;right:0;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 40px;background:rgba(255,255,255,0.85);backdrop-filter:blur(20px);border-bottom:1px solid rgba(196,232,207,0.6);z-index:100}
.welcome-logo{display:flex;align-items:center;gap:10px;font-weight:800;font-size:17px;color:var(--secondary)}
.logo-diamond{color:var(--primary);font-size:20px}
.welcome-header-actions{display:flex;align-items:center;gap:12px}
.welcome-hero{position:relative;z-index:1;text-align:center;padding:120px 24px 40px;max-width:680px}
.hero-badge{display:inline-flex;align-items:center;gap:8px;background:white;border:1px solid var(--border);color:var(--secondary);padding:8px 18px;border-radius:var(--radius-full);font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:28px;box-shadow:var(--shadow-sm)}
.hero-badge-dot{width:7px;height:7px;border-radius:50%;background:var(--primary);animation:pulse 2s ease infinite}
.hero-title{font-size:clamp(32px,5vw,52px);font-weight:900;color:var(--secondary);line-height:1.15;margin-bottom:18px;letter-spacing:-1px}
.hero-title-accent{color:var(--primary);display:block}
.hero-subtitle{font-size:17px;color:var(--text-secondary);line-height:1.65}
.welcome-cards{position:relative;z-index:1;display:grid;grid-template-columns:repeat(5,1fr);gap:18px;width:100%;max-width:1260px;padding:0 24px;margin-top:20px}
.welcome-card{background:white;border:1px solid var(--border);border-radius:var(--radius-xl);padding:0;cursor:pointer;text-align:left;transition:all 0.35s cubic-bezier(0.4,0,0.2,1);animation:slideUp 0.5s ease backwards;box-shadow:0 2px 8px rgba(2,49,55,0.06);position:relative;overflow:hidden}
.welcome-card:hover{transform:translateY(-8px) scale(1.01);box-shadow:0 24px 60px rgba(2,49,55,0.16);border-color:var(--primary)}
.welcome-card-inner{padding:28px 24px;display:flex;flex-direction:column;gap:16px;height:100%}
.card-icon-wrap{width:72px;height:72px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;transition:var(--transition)}
.welcome-card:hover .card-icon-wrap{transform:scale(1.05) rotate(-2deg)}
.card-icon{width:60px;height:60px}
.card-content{flex:1}
.card-tag{display:inline-block;padding:3px 10px;border-radius:var(--radius-full);font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
.card-title{font-size:22px;font-weight:800;color:var(--secondary);margin-bottom:8px;line-height:1.2}
.card-desc{font-size:13px;color:var(--text-secondary);line-height:1.6}
.welcome-footer{position:relative;z-index:1;margin-top:48px;font-size:13px;color:var(--text-muted);font-weight:500}

/* ===== LEARN PAGE ===== */
.learn-hero{background:linear-gradient(135deg,var(--secondary) 0%,#045a64 60%,var(--primary-dark) 100%);padding:60px 0 48px;position:relative;overflow:hidden}
.learn-hero::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 80% 50%,rgba(77,167,113,0.2) 0%,transparent 60%)}
.learn-hero-inner{display:flex;align-items:flex-end;justify-content:space-between;gap:40px}
.learn-hero-search{position:relative;margin-top:24px;max-width:520px}
.learn-hero-search input{width:100%;padding:16px 20px 16px 52px;border-radius:var(--radius-full);border:none;font-family:var(--font);font-size:15px;box-shadow:var(--shadow-lg);color:var(--text-primary)}
.learn-hero-search .search-icon{position:absolute;left:18px;top:50%;transform:translateY(-50%);font-size:18px}
.hero-stats{display:flex;gap:32px;padding:24px 32px;background:rgba(255,255,255,0.08);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.15);border-radius:var(--radius-xl);flex-shrink:0}
.hero-stat{text-align:center}
.stat-number{display:block;font-size:28px;font-weight:800;color:white;line-height:1}
.stat-label{font-size:12px;color:rgba(255,255,255,0.6);text-transform:uppercase;letter-spacing:1px;margin-top:4px}
.learn-content{padding-top:40px;padding-bottom:80px}
.filter-row{display:flex;align-items:center;gap:12px;margin-top:16px;flex-wrap:wrap}
.results-count{font-size:13px;color:var(--text-muted);font-weight:600;margin-left:auto}
.courses-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}
.course-card{background:white;border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden;cursor:pointer;transition:all 0.3s ease;animation:slideUp 0.4s ease backwards}
.course-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-lg);border-color:var(--primary)}
.course-thumb{height:140px;background:linear-gradient(135deg,var(--secondary) 0%,var(--primary-dark) 100%);display:flex;align-items:center;justify-content:center;position:relative}
.course-emoji{font-size:52px;filter:drop-shadow(0 4px 8px rgba(0,0,0,0.3))}
.course-badge{position:absolute;top:12px;left:12px;padding:4px 10px;border-radius:var(--radius-full);font-size:11px;font-weight:700}
.course-body{padding:20px}
.course-meta-top{display:flex;gap:8px;margin-bottom:12px}
.course-title{font-size:16px;font-weight:700;color:var(--secondary);margin-bottom:8px;line-height:1.4}
.course-desc{font-size:13px;color:var(--text-secondary);line-height:1.5;margin-bottom:8px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.course-instructor{font-size:12px;color:var(--text-muted);font-weight:600;margin-bottom:12px}
.course-progress{margin-bottom:12px}
.course-progress>span{font-size:12px;color:var(--primary);font-weight:600}
.course-footer{display:flex;flex-direction:column;gap:8px;padding-top:12px;border-top:1px solid var(--border)}
.course-rating{display:flex;align-items:center;gap:6px}
.rating-num{font-size:13px;font-weight:700;color:var(--secondary)}
.rating-count{font-size:12px;color:var(--text-muted)}
.course-info{display:flex;gap:16px;font-size:12px;color:var(--text-muted);font-weight:500}

/* ===== COURSE VIEW ===== */
.course-view-layout{display:flex;flex-direction:column;height:100vh;overflow:hidden;padding-top:var(--nav-height)}
.course-topbar{height:56px;background:var(--secondary);display:flex;align-items:center;justify-content:space-between;padding:0 24px;gap:16px;flex-shrink:0}
.back-btn{color:rgba(255,255,255,0.7);font-size:13px;font-weight:600;transition:var(--transition)}
.back-btn:hover{color:white}
.course-topbar-title{display:flex;align-items:center;gap:10px;flex:1;overflow:hidden}
.course-topbar-title h2{color:white;font-size:14px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.course-topbar-right{display:flex;align-items:center;gap:16px;flex-shrink:0}
.topbar-progress{display:flex;align-items:center;gap:10px}
.topbar-progress span{color:white;font-size:12px;font-weight:600;white-space:nowrap}
.sidebar-toggle{color:white;font-size:18px;width:36px;height:36px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;transition:var(--transition)}
.sidebar-toggle:hover{background:rgba(255,255,255,0.1)}
.course-view-body{display:flex;flex:1;overflow:hidden}
.course-main{flex:1;overflow-y:auto;background:var(--bg)}
.course-content-area{max-width:820px;margin:0 auto;padding:32px 32px 80px}
.content-header{margin-bottom:24px}
.breadcrumb{font-size:12px;color:var(--text-muted);font-weight:600;margin-bottom:8px}
.content-title{font-size:26px;font-weight:800;color:var(--secondary)}
.course-tabs{margin-bottom:24px}
.video-container{}
.video-player{background:#000;border-radius:var(--radius-lg);overflow:hidden;aspect-ratio:16/9;margin-bottom:24px}
.video-placeholder{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#0d2a2e,#1a4a50);color:white;position:relative}
.video-play-icon{width:64px;height:64px;background:var(--primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;margin-bottom:16px;box-shadow:0 0 40px rgba(77,167,113,0.4)}
.video-label{font-size:16px;font-weight:700;margin-bottom:8px}
.video-sublabel{font-size:13px;opacity:0.6;margin-bottom:24px}
.video-mock-player{position:absolute;bottom:0;left:0;right:0;padding:12px 16px;background:linear-gradient(transparent,rgba(0,0,0,0.7))}
.video-progress-bar{height:4px;background:rgba(255,255,255,0.2);border-radius:2px;margin-bottom:8px}
.video-progress-fill{height:100%;width:25%;background:var(--primary);border-radius:2px}
.video-controls{display:flex;align-items:center;gap:12px;color:white;font-size:14px}
.video-controls button{color:white;font-size:16px}
.play-btn{width:32px;height:32px;background:var(--primary);border-radius:50%;display:flex;align-items:center;justify-content:center}
.time{font-size:12px;opacity:0.8}
.video-info h3{font-size:18px;font-weight:700;color:var(--secondary);margin-bottom:10px}
.video-info p{font-size:14px;color:var(--text-secondary);line-height:1.6}
.video-resources{margin-top:24px;padding:20px;background:var(--tertiary);border-radius:var(--radius-md)}
.video-resources h4{font-size:13px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--secondary);margin-bottom:12px}
.resource-list{display:flex;flex-direction:column;gap:8px}
.resource-item{font-size:13px;color:var(--secondary);font-weight:600;padding:8px 12px;background:white;border-radius:var(--radius-sm);cursor:pointer;transition:var(--transition)}
.resource-item:hover{background:var(--primary);color:white}
.lesson-notes{background:white;border-radius:var(--radius-lg);padding:28px;border:1px solid var(--border)}
.notes-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;font-weight:700;color:var(--secondary)}
.notes-body h3{font-size:20px;font-weight:800;color:var(--secondary);margin-bottom:14px}
.notes-body h4{font-size:15px;font-weight:700;color:var(--secondary);margin:20px 0 10px}
.notes-body p{font-size:14px;color:var(--text-secondary);line-height:1.7;margin-bottom:12px}
.notes-body ul{padding-left:24px}
.notes-body li{font-size:14px;color:var(--text-secondary);line-height:1.7;margin-bottom:8px}
.case-study{background:var(--tertiary);border-left:4px solid var(--primary);padding:16px 20px;border-radius:0 var(--radius-md) var(--radius-md) 0;margin:16px 0}
.case-study strong{display:block;margin-bottom:8px;color:var(--secondary)}
.case-study p{margin:0;font-size:13px}
.quiz-area{}
.quiz-header{margin-bottom:28px}
.quiz-header h3{font-size:20px;font-weight:800;color:var(--secondary);margin-bottom:6px}
.quiz-header p{font-size:14px;color:var(--text-muted)}
.quiz-question{background:white;border:1px solid var(--border);border-radius:var(--radius-lg);padding:24px;margin-bottom:16px}
.question-num{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--primary);margin-bottom:10px}
.question-text{font-size:16px;font-weight:600;color:var(--secondary);margin-bottom:16px}
.quiz-options{display:flex;flex-direction:column;gap:10px}
.quiz-option{display:flex;align-items:center;gap:12px;padding:12px 16px;border:1.5px solid var(--border);border-radius:var(--radius-md);text-align:left;font-size:14px;color:var(--text-secondary);transition:var(--transition);font-family:var(--font)}
.quiz-option:hover{border-color:var(--primary);background:rgba(77,167,113,0.04)}
.quiz-option.selected{border-color:var(--primary);background:rgba(77,167,113,0.08);color:var(--secondary);font-weight:600}
.quiz-option.correct{border-color:#22c55e;background:rgba(34,197,94,0.1);color:#166534;font-weight:600}
.quiz-option.wrong{border-color:#ef4444;background:rgba(239,68,68,0.08);color:#991b1b;text-decoration:line-through}
.option-letter{width:28px;height:28px;border-radius:50%;background:var(--bg);font-weight:700;font-size:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.quiz-result{display:flex;align-items:center;gap:16px;padding:20px 24px;border-radius:var(--radius-lg);margin-top:24px}
.quiz-result.pass{background:rgba(34,197,94,0.1);border:1.5px solid #22c55e}
.quiz-result.fail{background:rgba(239,68,68,0.08);border:1.5px solid #ef4444}
.result-score{font-size:28px;font-weight:800;color:var(--secondary)}
.result-label{font-size:16px;font-weight:600}
.complete-section{display:flex;align-items:center;gap:16px;margin-top:32px;padding-top:28px;border-top:1px solid var(--border)}
.complete-hint{font-size:13px;color:var(--text-muted);font-weight:500}
.cert-area{}
.certificate{background:white;border:3px solid var(--primary);border-radius:var(--radius-xl);padding:48px;max-width:680px;margin:0 auto;text-align:center;position:relative;box-shadow:var(--shadow-xl);background-image:radial-gradient(circle at 10% 10%,rgba(196,232,207,0.3) 0%,transparent 50%),radial-gradient(circle at 90% 90%,rgba(77,167,113,0.1) 0%,transparent 50%)}
.cert-header{margin-bottom:32px}
.cert-logo{font-size:18px;font-weight:800;color:var(--primary);margin-bottom:10px}
.cert-tag{font-size:11px;text-transform:uppercase;letter-spacing:3px;color:var(--secondary);font-weight:700}
.cert-body{margin-bottom:40px}
.cert-presented{font-size:14px;color:var(--text-muted);margin-bottom:8px}
.cert-name{font-size:36px;font-weight:900;color:var(--secondary);margin-bottom:16px;font-style:italic}
.cert-text{font-size:14px;color:var(--text-muted);margin-bottom:8px}
.cert-course{font-size:22px;font-weight:800;color:var(--primary);margin-bottom:12px}
.cert-sub{font-size:13px;color:var(--text-muted)}
.cert-footer{display:flex;align-items:flex-end;justify-content:space-between}
.cert-sig{text-align:center}
.cert-sig-line{width:120px;height:1px;background:var(--secondary);margin-bottom:8px}
.cert-sig p{font-size:12px;color:var(--text-muted)}
.seal-circle{width:70px;height:70px;border-radius:50%;border:3px solid var(--primary);display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:900;color:var(--primary)}
.course-sidebar{width:340px;flex-shrink:0;border-left:1px solid var(--border);background:white;overflow-y:auto}
.sidebar-header{padding:20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;background:white;z-index:10}
.sidebar-header h3{font-size:14px;font-weight:700;color:var(--secondary)}
.sidebar-progress{font-size:13px;font-weight:700;color:var(--primary)}
.curriculum-section{border-bottom:1px solid var(--border)}
.section-header-btn{width:100%;display:flex;align-items:center;gap:12px;padding:14px 16px;text-align:left;transition:var(--transition);font-family:var(--font)}
.section-header-btn:hover{background:var(--bg)}
.section-header-btn.active{background:rgba(77,167,113,0.06)}
.sec-num{width:24px;height:24px;border-radius:50%;background:var(--tertiary);color:var(--secondary);font-size:11px;font-weight:700;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.section-header-btn.active .sec-num{background:var(--primary);color:white}
.sec-info{flex:1}
.sec-title{font-size:13px;font-weight:600;color:var(--secondary)}
.sec-count{font-size:11px;color:var(--text-muted);margin-top:2px}
.sec-chevron{color:var(--text-muted);font-size:12px}
.topic-list{padding:4px 0 8px 52px}
.topic-item{display:flex;align-items:center;gap:8px;width:100%;text-align:left;padding:8px 12px;border-radius:var(--radius-sm);font-family:var(--font);transition:var(--transition)}
.topic-item:hover{background:var(--bg)}
.topic-item.current{background:rgba(77,167,113,0.1)}
.topic-icon{font-size:12px;flex-shrink:0;color:var(--text-muted)}
.topic-item.completed .topic-icon{color:var(--primary);font-weight:900}
.topic-item.current .topic-icon{color:var(--primary)}
.topic-name{font-size:12px;color:var(--text-secondary);line-height:1.4}
.topic-item.current .topic-name{color:var(--primary);font-weight:600}
.topic-item.completed .topic-name{color:var(--text-muted)}

/* ===== RESEARCH PAGE ===== */
.research-hero{background:linear-gradient(135deg,var(--secondary) 0%,#034a55 100%);padding:60px 0 48px}
.research-content{padding:40px 32px 80px}
.research-layout{display:flex;gap:32px;align-items:flex-start}
.filter-sidebar{width:260px;flex-shrink:0;background:white;border:1px solid var(--border);border-radius:var(--radius-lg);padding:24px;position:sticky;top:calc(var(--nav-height) + 20px)}
.sidebar-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
.sidebar-title h3{font-size:15px;font-weight:700;color:var(--secondary)}
.clear-btn{font-size:12px;color:var(--primary);font-weight:600;font-family:var(--font)}
.filter-group{margin-bottom:28px}
.filter-group-title{font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--text-secondary);margin-bottom:12px}
.filter-check{display:flex;align-items:center;gap:10px;margin-bottom:8px;cursor:pointer}
.filter-check input[type="checkbox"]{width:16px;height:16px;accent-color:var(--primary);cursor:pointer}
.filter-check span{font-size:14px;color:var(--text-primary)}
.filter-count{margin-left:auto;font-size:12px;color:var(--text-muted);background:var(--bg);padding:1px 7px;border-radius:var(--radius-full)}
.research-results{flex:1;min-width:0}
.results-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
.results-count-text{font-size:14px;font-weight:600;color:var(--text-secondary)}
.view-toggle{display:flex;gap:4px}
.view-toggle button{width:36px;height:36px;border-radius:var(--radius-sm);font-size:16px;color:var(--text-muted);transition:var(--transition)}
.view-toggle button.active,.view-toggle button:hover{background:var(--tertiary);color:var(--secondary)}
.resources-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}
.resource-card{background:white;border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden;cursor:pointer;transition:all 0.3s ease;animation:slideUp 0.4s ease backwards}
.resource-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--primary)}
.resource-cover{height:100px;display:flex;align-items:center;justify-content:center;position:relative}
.resource-type-icon{font-size:40px}
.featured-badge{position:absolute;top:8px;right:8px;background:var(--accent);color:var(--secondary);font-size:10px;font-weight:700;padding:2px 8px;border-radius:var(--radius-full)}
.resource-body{padding:16px}
.resource-meta-top{display:flex;gap:6px;margin-bottom:10px;flex-wrap:wrap}
.resource-title{font-size:14px;font-weight:700;color:var(--secondary);margin-bottom:6px;line-height:1.4}
.resource-desc{font-size:12px;color:var(--text-secondary);line-height:1.5;margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.resource-footer{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.resource-author{font-size:12px;color:var(--text-secondary);font-weight:600}
.resource-year{font-size:11px;color:var(--text-muted)}
.resource-tags{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:12px}
.tag{padding:2px 8px;background:var(--tertiary);color:var(--secondary);font-size:10px;font-weight:600;border-radius:var(--radius-full)}
.resource-actions{display:flex;gap:8px}
.resources-list{display:flex;flex-direction:column;gap:12px}
.resource-list-item{background:white;border:1px solid var(--border);border-radius:var(--radius-lg);padding:20px;display:flex;align-items:flex-start;gap:16px;cursor:pointer;transition:all 0.25s ease}
.resource-list-item:hover{border-color:var(--primary);box-shadow:var(--shadow-md)}
.list-icon{width:48px;height:48px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:24px;flex-shrink:0}
.list-info{flex:1}
.list-info h3{font-size:15px;font-weight:700;color:var(--secondary);margin-bottom:4px}
.list-info p{font-size:13px;color:var(--text-secondary);line-height:1.5}
.list-meta{display:flex;flex-direction:column;align-items:flex-end;gap:6px;flex-shrink:0}
.list-actions{display:flex;gap:8px}
.pdf-reader{background:#f0ede8;min-height:100vh}
.pdf-topbar{background:white;border-bottom:1px solid var(--border);padding:12px 24px;display:flex;align-items:center;justify-content:space-between;gap:16px;position:sticky;top:var(--nav-height);z-index:10}
.pdf-title{flex:1;text-align:center}
.pdf-title strong{display:block;font-size:14px;color:var(--secondary)}
.pdf-title span{font-size:12px;color:var(--text-muted)}
.pdf-controls{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--text-secondary);font-weight:600}
.pdf-controls button:not(.btn-primary){width:32px;height:32px;border-radius:var(--radius-sm);background:var(--bg);font-size:18px;display:flex;align-items:center;justify-content:center;transition:var(--transition)}
.pdf-controls button:disabled{opacity:0.3;cursor:not-allowed}
.pdf-viewer{padding:40px;display:flex;justify-content:center}
.pdf-page{background:white;width:680px;min-height:880px;border-radius:var(--radius-md);box-shadow:var(--shadow-xl);padding:60px;display:flex;flex-direction:column}
.pdf-header-mark,.pdf-footer-mark{display:flex;justify-content:space-between;font-size:11px;color:var(--text-muted);padding-bottom:12px;border-bottom:1px solid var(--border);margin-bottom:24px}
.pdf-footer-mark{border-bottom:none;border-top:1px solid var(--border);padding-top:12px;margin-top:auto}
.pdf-content{flex:1}
.pdf-content h2,.pdf-content h3{color:var(--secondary);margin-bottom:12px;margin-top:24px}
.pdf-content h2{font-size:22px}
.pdf-content h3{font-size:16px}
.pdf-content p{font-size:14px;line-height:1.8;color:var(--text-secondary);margin-bottom:12px}
.pdf-nav-bar{position:sticky;bottom:0;background:white;border-top:1px solid var(--border);padding:14px 24px;display:flex;align-items:center;justify-content:space-between}
.page-jump{display:flex;align-items:center;gap:10px;font-size:13px;color:var(--text-muted)}
.page-jump input{width:56px;padding:6px 10px;border:1.5px solid var(--border);border-radius:var(--radius-sm);text-align:center;font-family:var(--font)}

/* ===== EXPLORE/AI PAGE ===== */
.explore-layout{display:flex;height:100vh;overflow:hidden;background:var(--bg)}
.chat-sidebar{width:280px;flex-shrink:0;background:var(--secondary);display:flex;flex-direction:column;overflow:hidden}
.chat-sidebar-header{padding:20px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,0.08)}
.sidebar-logo{color:var(--primary);font-weight:800;font-size:14px}
.new-chat-btn{background:rgba(255,255,255,0.08);color:white;padding:6px 12px;border-radius:var(--radius-full);font-size:12px;font-weight:600;font-family:var(--font);transition:var(--transition)}
.new-chat-btn:hover{background:var(--primary)}
.chat-history{flex:1;overflow-y:auto;padding:16px}
.history-group-label{font-size:10px;text-transform:uppercase;letter-spacing:1.5px;color:rgba(255,255,255,0.3);margin-bottom:8px;padding:0 8px}
.history-item{width:100%;display:flex;align-items:center;gap:10px;padding:10px;border-radius:var(--radius-md);text-align:left;font-family:var(--font);transition:var(--transition);margin-bottom:4px}
.history-item:hover{background:rgba(255,255,255,0.06)}
.history-item.active{background:rgba(77,167,113,0.15)}
.history-icon{font-size:14px}
.history-info{flex:1;overflow:hidden}
.history-title{display:block;font-size:13px;color:rgba(255,255,255,0.85);font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.history-date{display:block;font-size:11px;color:rgba(255,255,255,0.35);margin-top:2px}
.sidebar-footer{padding:16px;border-top:1px solid rgba(255,255,255,0.08)}
.powered-by{display:flex;flex-direction:column;gap:2px;margin-bottom:8px}
.powered-by span:first-child{font-size:10px;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,0.3)}
.powered-name{font-size:12px;font-weight:700;color:var(--primary)}
.sidebar-note{font-size:11px;color:rgba(255,255,255,0.25);line-height:1.5}
.chat-area{flex:1;display:flex;flex-direction:column;overflow:hidden;background:white}
.chat-topbar{padding:14px 24px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px;flex-shrink:0}
.sidebar-toggle-btn{font-size:20px;color:var(--text-muted);transition:var(--transition)}
.sidebar-toggle-btn:hover{color:var(--secondary)}
.chat-title{display:flex;align-items:center;gap:8px;flex:1}
.chat-title h2{font-size:16px;font-weight:700;color:var(--secondary)}
.online-dot{width:8px;height:8px;border-radius:50%;background:#22c55e}
.chat-title span{font-size:12px;color:var(--text-muted);font-weight:500}
.messages-area{flex:1;overflow-y:auto;padding:28px;display:flex;flex-direction:column;gap:24px}
.suggestions-area{max-width:680px;margin:0 auto;width:100%}
.suggestions-label{font-size:14px;color:var(--text-muted);margin-bottom:14px;font-weight:500}
.suggestions-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.suggestion-chip{padding:12px 16px;border:1.5px solid var(--border);border-radius:var(--radius-md);text-align:left;font-size:13px;color:var(--text-secondary);font-family:var(--font);font-weight:500;transition:var(--transition);line-height:1.4}
.suggestion-chip:hover{border-color:var(--primary);background:rgba(77,167,113,0.05);color:var(--secondary)}
.message-row{display:flex;gap:12px;align-items:flex-start;max-width:820px;width:100%}
.message-row.user{margin-left:auto;flex-direction:row-reverse}
.avatar{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px;flex-shrink:0}
.assistant-avatar{background:var(--secondary);color:var(--primary);font-size:18px}
.user-avatar{background:var(--primary);color:white}
.message-bubble{padding:16px 20px;border-radius:var(--radius-lg);max-width:680px}
.message-bubble.assistant{background:var(--bg);border:1px solid var(--border);border-top-left-radius:4px}
.message-bubble.user{background:var(--secondary);border-top-right-radius:4px}
.message-bubble.user .message-content{color:white}
.message-content{font-size:14px;color:var(--text-secondary);line-height:1.7}
.typing-dots{display:flex;gap:6px;padding:4px 0}
.typing-dots span{width:8px;height:8px;border-radius:50%;background:var(--text-muted);animation:pulse 1.2s ease infinite}
.typing-dots span:nth-child(2){animation-delay:0.2s}
.typing-dots span:nth-child(3){animation-delay:0.4s}
.chat-input-area{padding:16px 28px 20px;border-top:1px solid var(--border);background:white;flex-shrink:0}
.input-wrapper{display:flex;align-items:flex-end;gap:12px;background:var(--bg);border:1.5px solid var(--border);border-radius:var(--radius-xl);padding:12px 12px 12px 20px;transition:var(--transition)}
.input-wrapper:focus-within{border-color:var(--primary);background:white;box-shadow:0 0 0 3px rgba(77,167,113,0.1)}
.chat-input{flex:1;border:none;background:transparent;font-family:var(--font);font-size:15px;color:var(--text-primary);resize:none;outline:none;max-height:140px;line-height:1.5}
.chat-input::placeholder{color:var(--text-muted)}
.send-btn{width:40px;height:40px;border-radius:50%;background:var(--primary);color:white;font-size:18px;font-weight:700;display:flex;align-items:center;justify-content:center;transition:var(--transition);flex-shrink:0}
.send-btn:hover:not(:disabled){background:var(--primary-dark);transform:scale(1.05)}
.send-btn:disabled{opacity:0.4;cursor:not-allowed}
.input-hint{font-size:11px;color:var(--text-muted);margin-top:8px;text-align:center}

/* ===== STATIC PAGES ===== */
.static-page{background:var(--bg)}
.static-hero{padding:80px 0 72px;position:relative;overflow:hidden}
.assess-hero{background:linear-gradient(135deg,var(--secondary) 0%,#034a55 50%,var(--primary-dark) 100%)}
.analyse-hero{background:linear-gradient(135deg,#0d1f1a 0%,var(--secondary) 50%,#034a55 100%)}
.static-hero::before{content:'';position:absolute;width:600px;height:600px;border-radius:50%;background:radial-gradient(circle,rgba(77,167,113,0.2),transparent);right:-150px;top:-150px}
.hero-pill{display:inline-block;background:rgba(255,255,255,0.1);color:rgba(255,255,255,0.9);padding:6px 16px;border-radius:var(--radius-full);font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:2px;margin-bottom:24px}
.static-hero h1{font-size:clamp(36px,5vw,56px);font-weight:900;color:white;line-height:1.15;letter-spacing:-1.5px;margin-bottom:20px}
.static-hero h1 span{color:var(--primary)}
.static-hero p{font-size:17px;color:rgba(255,255,255,0.75);max-width:540px;line-height:1.6;margin-bottom:32px}
.hero-ctas{display:flex;gap:14px;flex-wrap:wrap;margin-bottom:40px}
.hero-trust{display:flex;align-items:center;gap:16px}
.hero-trust>span{font-size:12px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:1px}
.trust-logos{display:flex;gap:20px;flex-wrap:wrap}
.trust-logos span{font-size:13px;font-weight:700;color:rgba(255,255,255,0.5)}
.assess-services{padding:72px 32px}
.services-layout{display:flex;gap:32px;margin-top:48px}
.services-nav{width:280px;flex-shrink:0}
.service-nav-item{display:flex;align-items:center;gap:12px;width:100%;padding:14px 16px;border-radius:var(--radius-md);text-align:left;font-family:var(--font);font-size:14px;font-weight:600;color:var(--text-secondary);transition:var(--transition);margin-bottom:4px}
.service-nav-item:hover{background:var(--tertiary);color:var(--secondary)}
.service-nav-item.active{background:var(--primary);color:white}
.nav-arrow{margin-left:auto}
.service-detail{flex:1;background:white;border:1px solid var(--border);border-radius:var(--radius-xl);padding:40px}
.service-icon-large{font-size:52px;margin-bottom:16px}
.service-detail h3{font-size:24px;font-weight:800;color:var(--secondary);margin-bottom:12px}
.service-detail>p{font-size:15px;color:var(--text-secondary);line-height:1.7;margin-bottom:24px}
.service-features{list-style:none;display:flex;flex-direction:column;gap:10px}
.service-features li{display:flex;align-items:center;gap:10px;font-size:14px;color:var(--text-secondary)}
.check{color:var(--primary);font-weight:700}
.assess-process{background:var(--secondary);padding:72px 0}
.process-steps{display:flex;gap:0;margin-top:48px;position:relative}
.process-steps::before{content:'';position:absolute;top:24px;left:36px;right:36px;height:2px;background:rgba(255,255,255,0.1)}
.process-step{flex:1;text-align:center;position:relative;padding:0 16px}
.step-num{width:48px;height:48px;background:var(--primary);color:white;border-radius:50%;font-size:14px;font-weight:800;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;position:relative;z-index:1}
.process-step h4{font-size:14px;font-weight:700;color:white;margin-bottom:8px}
.process-step p{font-size:13px;color:rgba(255,255,255,0.55);line-height:1.5}
.assess-stats{display:flex;justify-content:center;gap:0;padding:60px 32px}
.stat-card{flex:1;text-align:center;padding:32px;border-right:1px solid var(--border)}
.stat-card:last-child{border-right:none}
.big-stat{font-size:44px;font-weight:900;color:var(--primary);line-height:1;margin-bottom:8px}
.assess-cta{background:var(--tertiary);padding:72px 0}
.assess-cta h2{font-size:32px;font-weight:800;color:var(--secondary);margin-bottom:12px}
.assess-cta p{color:var(--text-secondary);font-size:16px}
.analyse-demo{padding:72px 32px}
.analytics-shell{display:flex;gap:0;margin-top:48px;background:white;border:1px solid var(--border);border-radius:var(--radius-xl);overflow:hidden;box-shadow:var(--shadow-lg)}
.country-list{width:240px;border-right:1px solid var(--border);padding:20px;flex-shrink:0;background:var(--bg)}
.country-list-header{font-size:11px;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-muted);font-weight:700;margin-bottom:12px}
.country-item{width:100%;display:flex;align-items:center;gap:8px;padding:10px 12px;border-radius:var(--radius-md);font-family:var(--font);font-size:13px;text-align:left;transition:var(--transition);margin-bottom:4px}
.country-item:hover{background:var(--tertiary)}
.country-item.active{background:var(--secondary);color:white}
.country-flag{font-size:18px}
.country-name{font-weight:600}
.country-score{display:block;font-size:14px;font-weight:700}
.country-trend{font-size:11px}
.country-trend.up{color:var(--primary)}
.country-trend.down{color:#ef4444}
.country-item.active .country-trend.up{color:var(--tertiary)}
.analytics-panel{flex:1;padding:28px;overflow:auto}
.panel-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:24px}
.panel-header h3{font-size:18px;font-weight:800;color:var(--secondary);margin-bottom:4px}
.panel-sub{font-size:12px;color:var(--text-muted)}
.overall-score{text-align:right}
.overall-score span{font-size:48px;font-weight:900;color:var(--primary);line-height:1}
.overall-score small{font-size:16px;color:var(--text-muted);margin-left:4px}
.dimensions-list{display:flex;flex-direction:column;gap:14px;margin-bottom:24px}
.dimension-row{display:flex;align-items:center;gap:16px}
.dimension-label{font-size:13px;color:var(--text-secondary);font-weight:600;width:200px;flex-shrink:0}
.dimension-bar-wrap{flex:1;display:flex;align-items:center;gap:12px}
.dimension-bar{flex:1;height:8px;background:var(--tertiary);border-radius:var(--radius-full);overflow:hidden}
.dimension-fill{height:100%;border-radius:var(--radius-full);transition:width 0.8s ease}
.dimension-score{font-size:13px;font-weight:700;color:var(--secondary);width:32px;text-align:right}
.insight-card{display:flex;gap:12px;padding:16px 20px;background:rgba(77,167,113,0.08);border:1px solid var(--primary);border-radius:var(--radius-md);font-size:13px;color:var(--text-secondary);line-height:1.6}
.insight-icon{font-size:20px;flex-shrink:0}
.chart-placeholder{padding:20px 0}
.chart-bars{display:flex;align-items:flex-end;gap:12px;height:180px;margin-bottom:8px}
.chart-bar-col{flex:1;display:flex;flex-direction:column;align-items:center;height:100%;justify-content:flex-end}
.chart-bar-fill{width:100%;background:linear-gradient(to top,var(--primary),var(--primary-light));border-radius:var(--radius-sm) var(--radius-sm) 0 0;display:flex;align-items:flex-start;justify-content:center;padding-top:6px;position:relative}
.chart-bar-col:last-child .chart-bar-fill{background:linear-gradient(to top,var(--accent),var(--accent-dark))}
.bar-val{font-size:11px;font-weight:700;color:white}
.bar-year{font-size:11px;color:var(--text-muted);margin-top:6px}
.chart-label{text-align:center;font-size:12px;color:var(--text-muted);font-weight:600}
.comparison-table table{width:100%;border-collapse:collapse}
.comparison-table th{text-align:left;padding:12px 16px;font-size:12px;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);border-bottom:2px solid var(--border)}
.comparison-table td{padding:12px 16px;font-size:14px;color:var(--text-secondary);border-bottom:1px solid var(--border)}
.comparison-table tr.highlighted td{background:rgba(77,167,113,0.06);font-weight:600}
.trend-up{color:var(--primary)!important;font-weight:700}
.trend-down{color:#ef4444!important;font-weight:700}
.analyse-features{background:var(--secondary);padding:72px 0}
.feature-card{padding:28px;background:rgba(255,255,255,0.05)!important;border-color:rgba(255,255,255,0.08)!important}
.feature-card:hover{background:rgba(255,255,255,0.08)!important;border-color:var(--primary)!important}
.feature-icon{font-size:32px;margin-bottom:14px}
.feature-card h4{font-size:16px;font-weight:700;color:white;margin-bottom:8px}
.feature-card p{font-size:13px;color:rgba(255,255,255,0.55);line-height:1.6}

/* ===== ADMIN ===== */
.admin-layout{display:flex;min-height:100vh;background:var(--bg)}
.admin-sidebar{width:240px;background:var(--secondary);flex-shrink:0;display:flex;flex-direction:column;position:fixed;top:var(--nav-height);bottom:0;left:0;overflow-y:auto;z-index:50}
.admin-sidebar-header{padding:20px;border-bottom:1px solid rgba(255,255,255,0.08)}
.admin-logo{color:var(--primary);font-weight:800;font-size:14px}
.admin-nav{padding:12px;flex:1}
.admin-nav-item{display:flex;align-items:center;gap:12px;width:100%;padding:11px 14px;border-radius:var(--radius-md);font-family:var(--font);font-size:14px;font-weight:600;color:rgba(255,255,255,0.6);text-align:left;transition:var(--transition);margin-bottom:2px}
.admin-nav-item:hover{background:rgba(255,255,255,0.06);color:white}
.admin-nav-item.active{background:rgba(77,167,113,0.15);color:var(--primary)}
.admin-sidebar-footer{padding:12px;border-top:1px solid rgba(255,255,255,0.08)}
.admin-main{flex:1;margin-left:240px;padding:0;min-height:100vh}
.admin-section{padding:40px}
.admin-page-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:32px}
.admin-page-header h1{font-size:28px;font-weight:800;color:var(--secondary);margin-bottom:4px}
.admin-page-header p{font-size:14px;color:var(--text-muted)}
.stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:32px}
.admin-stat-card{background:white;border:1px solid var(--border);border-radius:var(--radius-lg);padding:24px;text-align:center;position:relative;overflow:hidden}
.admin-stat-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--primary)}
.admin-stat-icon{font-size:28px;margin-bottom:10px}
.admin-stat-value{font-size:32px;font-weight:900;color:var(--secondary);line-height:1;margin-bottom:6px}
.admin-stat-label{font-size:12px;color:var(--text-muted);font-weight:600;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px}
.admin-stat-change{font-size:13px;font-weight:700}
.admin-stat-change.up{color:var(--primary)}
.admin-stat-change.down{color:#ef4444}
.admin-grid-2{display:grid;grid-template-columns:1fr 1fr;gap:24px}
.admin-card{background:white;border:1px solid var(--border);border-radius:var(--radius-lg);padding:24px}
.admin-card h3{font-size:16px;font-weight:700;color:var(--secondary);margin-bottom:16px}
.mini-student-list{display:flex;flex-direction:column;gap:12px}
.mini-student-item{display:flex;align-items:center;gap:12px}
.student-avatar-sm{width:36px;height:36px;border-radius:50%;background:var(--primary);color:white;font-weight:700;font-size:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.mini-student-name{font-size:14px;font-weight:600;color:var(--secondary)}
.mini-student-sub{font-size:12px;color:var(--text-muted)}
.enrollment-bars{display:flex;flex-direction:column;gap:12px}
.enroll-row{display:flex;align-items:center;gap:12px}
.enroll-name{font-size:12px;color:var(--text-secondary);width:160px;flex-shrink:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.enroll-bar-wrap{flex:1;display:flex;align-items:center;gap:8px}
.enroll-count{font-size:12px;font-weight:700;color:var(--secondary)}
.admin-table{width:100%;border-collapse:collapse}
.admin-table th{text-align:left;padding:10px 14px;font-size:11px;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);border-bottom:2px solid var(--border);font-weight:700}
.admin-table td{padding:13px 14px;font-size:14px;color:var(--text-secondary);border-bottom:1px solid var(--border)}
.admin-table tr:last-child td{border-bottom:none}
.admin-table tr:hover td{background:rgba(77,167,113,0.03)}
.add-course-form{margin-bottom:24px;border:2px solid var(--primary)}
.form-steps-indicator{display:flex;gap:0;margin-bottom:32px}
.form-step-dot{flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;position:relative}
.form-step-dot::before{content:'';position:absolute;top:14px;left:50%;right:-50%;height:2px;background:var(--border)}
.form-step-dot:last-child::before{display:none}
.form-step-dot span{width:28px;height:28px;border-radius:50%;border:2px solid var(--border);background:white;font-size:12px;font-weight:700;color:var(--text-muted);display:flex;align-items:center;justify-content:center;position:relative;z-index:1}
.form-step-dot.active span{border-color:var(--primary);background:var(--primary);color:white}
.form-step-dot label{font-size:11px;color:var(--text-muted);font-weight:600;text-align:center}
.form-step-dot.active label{color:var(--primary)}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.form-group{display:flex;flex-direction:column;gap:6px}
.form-group.full{grid-column:1/-1}
.form-group label{font-size:13px;font-weight:600;color:var(--secondary)}
.section-builder{padding:16px;background:var(--bg);border-radius:var(--radius-md);margin-bottom:12px}
.topic-video-row{display:flex;align-items:center;gap:16px;padding:12px 0;border-bottom:1px solid var(--border)}

/* ===== STUDENT DASHBOARD ===== */
.student-dash{background:var(--bg);padding-bottom:80px}
.student-welcome{background:white;border:1px solid var(--border);border-radius:var(--radius-xl);padding:32px 40px;display:flex;align-items:center;justify-content:space-between;margin-bottom:36px;margin-top:32px;box-shadow:var(--shadow-sm)}
.welcome-left{display:flex;align-items:center;gap:20px}
.student-avatar-lg{width:64px;height:64px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--secondary));color:white;font-weight:900;font-size:26px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px rgba(77,167,113,0.4)}
.welcome-greeting{font-size:13px;color:var(--text-muted);font-weight:600;margin-bottom:4px}
.welcome-name{font-size:28px;font-weight:900;color:var(--secondary);line-height:1;margin-bottom:6px}
.welcome-streak{font-size:13px;color:var(--text-secondary);font-weight:600}
.welcome-stats{display:flex;gap:0;border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden}
.welcome-stat{padding:16px 24px;text-align:center;border-right:1px solid var(--border)}
.welcome-stat:last-child{border-right:none}
.ws-num{display:block;font-size:26px;font-weight:900;color:var(--primary);line-height:1}
.ws-label{font-size:11px;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.5px;margin-top:4px;font-weight:600}
.student-tabs{margin-bottom:32px}
.course-cards-student{display:flex;flex-direction:column;gap:20px}
.student-course-card{background:white;border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden;display:flex;transition:var(--transition)}
.student-course-card:hover{box-shadow:var(--shadow-md);border-color:var(--primary)}
.scc-thumb{width:140px;flex-shrink:0;background:linear-gradient(135deg,var(--secondary),var(--primary-dark));display:flex;align-items:center;justify-content:center;font-size:48px;position:relative}
.cert-badge{position:absolute;top:8px;right:-4px;background:var(--accent);color:var(--secondary);font-size:10px;font-weight:700;padding:3px 8px;border-radius:4px;white-space:nowrap}
.scc-body{flex:1;padding:24px}
.scc-body h3{font-size:17px;font-weight:800;color:var(--secondary);margin-bottom:12px}
.scc-progress{margin-bottom:10px}
.scc-progress>span{font-size:12px;color:var(--text-muted);font-weight:600;margin-top:4px;display:block}
.scc-next{font-size:13px;color:var(--text-secondary);margin-bottom:16px}
.scc-actions{display:flex;gap:10px}
.certificates-section{display:flex;flex-direction:column;gap:24px}
.cert-card{background:white;border:1px solid var(--border);border-radius:var(--radius-xl);overflow:hidden}
.cert-preview-mini{padding:24px 32px;background:linear-gradient(135deg,var(--secondary),var(--primary-dark));display:flex;align-items:center;gap:24px;border-bottom:3px solid var(--primary)}
.cert-mini-logo{color:var(--primary);font-weight:800;font-size:16px;flex-shrink:0}
.cert-mini-body{flex:1;color:white}
.cert-mini-body p{font-size:11px;text-transform:uppercase;letter-spacing:2px;opacity:0.6;margin-bottom:4px}
.cert-mini-body h3{font-size:18px;font-weight:800}
.cert-mini-name{font-size:13px;opacity:0.8;margin-top:4px}
.cert-mini-seal{width:52px;height:52px;border-radius:50%;border:2px solid var(--primary);color:var(--primary);font-weight:900;font-size:14px;display:flex;align-items:center;justify-content:center}
.cert-card-actions{padding:20px 32px;display:flex;align-items:center;justify-content:space-between}
.cert-card-actions strong{font-size:15px;color:var(--secondary)}
.cert-card-actions p{font-size:12px;color:var(--text-muted);margin-top:2px}
.achievements-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px}
.achievement-card{background:white;border:1px solid var(--border);border-radius:var(--radius-lg);padding:24px;text-align:center;transition:var(--transition)}
.achievement-card.locked{opacity:0.5;filter:grayscale(1)}
.achievement-card.earned:hover{transform:translateY(-3px);box-shadow:var(--shadow-md);border-color:var(--primary)}
.achievement-icon{font-size:40px;margin-bottom:12px}
.achievement-card h4{font-size:14px;font-weight:700;color:var(--secondary);margin-bottom:6px}
.achievement-card p{font-size:12px;color:var(--text-muted);line-height:1.4}
.recommended-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}
.recommended-card{background:white;border:1px solid var(--border);border-radius:var(--radius-lg);padding:24px;display:flex;gap:20px;transition:var(--transition);cursor:pointer}
.recommended-card:hover{border-color:var(--primary);box-shadow:var(--shadow-md)}
.rec-emoji{font-size:44px;flex-shrink:0}
.rec-info h4{font-size:15px;font-weight:700;color:var(--secondary);margin-bottom:4px}

/* ===== RESPONSIVE ===== */
@media(max-width:1100px){.welcome-cards{grid-template-columns:repeat(3,1fr)}}
@media(max-width:1024px){.courses-grid{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(2,1fr)}.resources-grid{grid-template-columns:repeat(2,1fr)}.stats-grid{grid-template-columns:repeat(2,1fr)}.learn-hero-inner{flex-direction:column}.analytics-shell{flex-direction:column}.country-list{width:100%}.services-layout{flex-direction:column}.services-nav{width:100%}.process-steps{flex-direction:column}.process-steps::before{display:none}.assess-stats{flex-wrap:wrap}.stat-card{flex:1 1 40%;border-right:none;border-bottom:1px solid var(--border)}}
@media(max-width:900px){.admin-sidebar{display:none}.admin-main{margin-left:0}.admin-grid-2{grid-template-columns:1fr}.achievements-grid{grid-template-columns:repeat(2,1fr)}.recommended-grid{grid-template-columns:1fr}.student-course-card{flex-direction:column}.scc-thumb{width:100%;height:120px}.course-sidebar{display:none}.research-layout{flex-direction:column}.filter-sidebar{position:static;width:100%}.chat-sidebar{display:none}}
@media(max-width:768px){.container{padding:0 20px}.welcome-cards{grid-template-columns:repeat(2,1fr);gap:14px;padding:0 16px}.welcome-hero{padding:100px 20px 32px}.courses-grid{grid-template-columns:1fr}.resources-grid{grid-template-columns:1fr}.pdf-page{width:100%;padding:32px}.pdf-viewer{padding:16px}.suggestions-grid{grid-template-columns:1fr}.student-welcome{flex-direction:column;gap:24px}.welcome-stats{width:100%;justify-content:space-around}}
@media(max-width:480px){.welcome-cards{grid-template-columns:1fr}.hero-stats{display:grid;grid-template-columns:1fr 1fr}.achievements-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useRef, useEffect } = React;

// ========================= DATA =========================
const COURSES = [
  { id:1, title:"Foundations of Public Governance", category:"Governance Basics", level:"Beginner", duration:"8 hrs", lessons:12, students:3420, rating:4.8, instructor:"Dr. Amaka Okonkwo", thumbnail:"", description:"A comprehensive introduction to public governance principles, accountability frameworks, and institutional design.", trending:true, featured:true, progress:0,
    sections:[{title:"Introduction to Governance",topics:["What is Governance?","Historical Context","Governance Models Quiz"]},{title:"Accountability Frameworks",topics:["Horizontal Accountability","Vertical Accountability","Case Study Practice"]},{title:"Institutional Design",topics:["Three Arms of Government","Separation of Powers","Quiz: Institutional Checks"]},{title:"Public Policy Process",topics:["Policy Cycle Overview","Agenda Setting","Policy Implementation"]},{title:"Transparency & Openness",topics:["Open Government","Freedom of Information","Data Governance"]},{title:"Anti-Corruption Mechanisms",topics:["Types of Corruption","UNCAC Framework","Quiz: Integrity Systems"]},{title:"Legislative Oversight",topics:["Parliamentary Committees","Budget Scrutiny","Case Studies"]},{title:"Judicial Independence",topics:["Rule of Law","Judicial Review","International Standards"]},{title:"Decentralisation",topics:["Fiscal Federalism","Local Governance","Community Participation"]},{title:"Civil Society & Governance",topics:["NGO Roles","Civic Engagement","Participatory Budgeting"]},{title:"Digital Governance",topics:["E-Government","Digital ID Systems","Open Data Initiatives"]},{title:"Final Assessment & Certificate",topics:["Comprehensive Quiz","Reflection Essay","Certificate Claim"]}]},
  { id:2, title:"Corporate Governance Essentials", category:"Corporate", level:"Intermediate", duration:"10 hrs", lessons:14, students:2180, rating:4.7, instructor:"Prof. Chidi Nwachukwu", thumbnail:"", description:"Master corporate governance including board structures, shareholder rights, and compliance frameworks.", trending:true, featured:false, progress:35,
    sections:[{title:"Corporate Governance Intro",topics:["History","OECD Principles","Why It Matters"]},{title:"Board of Directors",topics:["Board Composition","Independent Directors","Board Committees"]},{title:"Shareholder Rights",topics:["Types of Shareholders","Shareholder Activism","Quiz"]},{title:"Executive Compensation",topics:["Pay Structures","Performance Metrics","Governance Failures"]},{title:"Risk Management",topics:["Enterprise Risk","Risk Appetite","Case Study: Enron"]},{title:"Internal Controls",topics:["COSO Framework","Internal Audit","Whistleblower Policies"]},{title:"Financial Reporting",topics:["IFRS Standards","Audit Independence","Disclosure"]},{title:"ESG Integration",topics:["Environmental Factors","Social Responsibility","Governance Ratings"]},{title:"Regulatory Compliance",topics:["SEC Requirements","Sarbanes-Oxley","Global Frameworks"]},{title:"Conflict of Interest",topics:["Related Party Transactions","Ethics Codes","Real Cases"]},{title:"Stakeholder Management",topics:["Mapping Stakeholders","Engagement Strategies","Reporting"]},{title:"Digital Transformation",topics:["Cybersecurity Governance","AI Ethics","Tech Risks"]},{title:"Crisis Governance",topics:["Leadership in Crisis","Board Responsibilities","Recovery"]},{title:"Final Assessment",topics:["Capstone Quiz","Certificate"]}]},
  { id:3, title:"Public Financial Management", category:"Finance", level:"Advanced", duration:"12 hrs", lessons:12, students:1650, rating:4.9, instructor:"Dr. Fatima Al-Hassan", thumbnail:"", description:"Deep-dive into government budgeting, public expenditure, revenue management and fiscal accountability.", trending:false, featured:true, progress:0,
    sections:[{title:"PFM Systems Overview",topics:["PFM Framework","PEFA Assessment","Key Players"]},{title:"Budget Preparation",topics:["MTEF","Budget Circular","Sector Ceilings"]},{title:"Revenue Administration",topics:["Tax Policy","Revenue Forecasting","Customs Management"]},{title:"Treasury Management",topics:["TSA","Cash Management","Debt Management"]},{title:"Budget Execution",topics:["Warrant System","Commitment Controls","Virements"]},{title:"Procurement & Contracts",topics:["Procurement Laws","Tender Processes","PPP Governance"]},{title:"Internal Audit",topics:["Risk-Based Auditing","IAU Independence","Reporting Lines"]},{title:"Financial Reporting",topics:["IPSAS","Whole of Government Accounts","Transparency"]},{title:"External Audit",topics:["SAI Independence","Performance Audit","INTOSAI Standards"]},{title:"Legislative Scrutiny",topics:["PAC Functions","Budget Hearings","Oversight Reports"]},{title:"Subnational PFM",topics:["Fiscal Transfers","Local Revenue","Conditional Grants"]},{title:"Certification",topics:["Final Exam","Certificate of Completion"]}]},
  { id:4, title:"Anti-Corruption & Integrity Systems", category:"Integrity", level:"Intermediate", duration:"9 hrs", lessons:12, students:2890, rating:4.6, instructor:"Ms. Ngozi Adebayo", thumbnail:"", description:"Build integrity systems, understand anti-corruption legislation, and design prevention mechanisms.", trending:true, featured:false, progress:70,
    sections:[{title:"Understanding Corruption",topics:["Definitions","Types & Forms","Measurement Indices"]},{title:"UNCAC Framework",topics:["Prevention","Criminalisation","Asset Recovery"]},{title:"Integrity Systems",topics:["National Integrity System","Institutional Pillars","TI Framework"]},{title:"Asset Declaration",topics:["Disclosure Laws","Verification Systems","Public Access"]},{title:"Conflict of Interest",topics:["Legal Frameworks","Management Strategies","Case Studies"]},{title:"Anti-Money Laundering",topics:["FATF Standards","Customer Due Diligence","Reporting"]},{title:"Whistleblower Protection",topics:["International Standards","Mechanisms","Case Studies"]},{title:"Investigation Techniques",topics:["Financial Investigations","Open Source Intelligence","Digital Evidence"]},{title:"Prosecution & Courts",topics:["Asset Forfeiture","Mutual Legal Assistance","Enforcement"]},{title:"Private Sector Compliance",topics:["Anti-Bribery Laws","Due Diligence","ISO 37001"]},{title:"Prevention & Education",topics:["Awareness Campaigns","Education Programs","Behavior Change"]},{title:"Capstone",topics:["Final Assessment","Certificate"]}]},
  { id:5, title:"Electoral Systems & Democracy", category:"Democracy", level:"Beginner", duration:"7 hrs", lessons:12, students:4100, rating:4.5, instructor:"Dr. Emeka Chibuike", thumbnail:"", description:"Understand electoral systems, democratic processes, voter rights, and election integrity mechanisms.", trending:false, featured:false, progress:0, sections:[{title:"Democracy Fundamentals",topics:["Types of Democracy","Democratic Values","Global Trends"]},{title:"Electoral Systems",topics:["Proportional Representation","First-Past-the-Post","Mixed Systems"]},{title:"Electoral Management",topics:["EMB Independence","Election Planning","Voter Registration"]},{title:"Campaign Finance",topics:["Regulations","Disclosure","Foreign Funding"]},{title:"Voter Rights",topics:["Universal Suffrage","Special Populations","Disenfranchisement"]},{title:"Election Technology",topics:["Electronic Voting","Biometrics","Cybersecurity"]},{title:"Election Observation",topics:["International Standards","Domestic Observation","EISA Framework"]},{title:"Electoral Disputes",topics:["Adjudication Systems","Courts vs Tribunals","Case Studies"]},{title:"Women in Elections",topics:["Gender Quotas","Barriers","Best Practices"]},{title:"Election Violence",topics:["Root Causes","Prevention","Early Warning"]},{title:"Post-Election Reviews",topics:["Lessons Learned","Recommendations","Reform Processes"]},{title:"Final Assessment",topics:["Exam","Certificate"]}]},
  { id:6, title:"Open Government & Civic Tech", category:"Digital", level:"Intermediate", duration:"8 hrs", lessons:12, students:1340, rating:4.7, instructor:"Adaeze Eze, MSc", thumbnail:"", description:"Explore open government principles, civic technology, transparency platforms and participatory governance.", trending:false, featured:false, progress:15, sections:[{title:"Open Government Partnership",topics:["OGP Overview","National Action Plans","Key Commitments"]},{title:"Transparency Tools",topics:["Freedom of Info Laws","Proactive Disclosure","Open Contracting"]},{title:"Civic Technology",topics:["GovTech Ecosystem","Citizen Portals","Digital Services"]},{title:"Open Data",topics:["Open Data Standards","Data Quality","Use Cases"]},{title:"Participatory Governance",topics:["e-Participation","Online Consultations","Digital Town Halls"]},{title:"Right to Information",topics:["RTI Laws","Proactive Publishing","Exemptions"]},{title:"Accountability Platforms",topics:["Budget Trackers","Contract Portals","Citizen Feedback"]},{title:"Social Accountability",topics:["Community Scorecards","Public Hearings","Social Audits"]},{title:"Digital ID & Services",topics:["National ID Systems","Service Delivery","Privacy"]},{title:"Smart Cities",topics:["Urban Governance","IoT in Cities","Data Governance"]},{title:"Cybersecurity & Governance",topics:["Critical Infrastructure","Policy Frameworks","Response"]},{title:"Certification",topics:["Comprehensive Test","Certificate"]}]},
];

const RESOURCES = [
  {id:1,title:"Public Financial Management Handbook",type:"Book",category:"Finance",author:"World Bank",year:2023,pages:312,tags:["PFM","budget","treasury"],featured:true,description:"A comprehensive guide to public financial management systems, covering budget preparation, execution, and accountability."},
  {id:2,title:"Anti-Corruption in the Public Sector",type:"Report",category:"Integrity",author:"Transparency International",year:2023,pages:88,tags:["anti-corruption","UNCAC","integrity"],featured:true,description:"In-depth analysis of anti-corruption mechanisms across 180 countries, with case studies and reform recommendations."},
  {id:3,title:"Governance Indicators: A User's Guide",type:"Article",category:"Governance",author:"OECD",year:2022,pages:45,tags:["indicators","measurement","data"],featured:false,description:"Guide to interpreting and applying governance indicators for policy assessment and reform tracking."},
  {id:4,title:"Electoral Systems and Democratic Governance",type:"Book",category:"Democracy",author:"IDEA International",year:2022,pages:256,tags:["elections","democracy","reform"],featured:false,description:"Comprehensive analysis of electoral system design and its implications for democratic representation."},
  {id:5,title:"Open Government Partnership Progress Report",type:"Report",category:"Transparency",author:"OGP Secretariat",year:2023,pages:124,tags:["open government","OGP","transparency"],featured:true,description:"Annual review of member countries' progress on open government commitments and action plans."},
  {id:6,title:"Digital Governance Readiness Assessment",type:"Article",category:"Digital",author:"UNDP",year:2023,pages:62,tags:["digital","e-government","readiness"],featured:false,description:"Framework and methodology for assessing a government's readiness to deliver digital public services."},
  {id:7,title:"Local Government Finance: Best Practices",type:"Book",category:"Finance",author:"UN-Habitat",year:2022,pages:198,tags:["local government","fiscal decentralisation"],featured:false,description:"Best practices in subnational government finance, covering revenue mobilisation and expenditure management."},
  {id:8,title:"Legislative Strengthening Toolkit",type:"Report",category:"Governance",author:"NDI",year:2023,pages:78,tags:["legislature","oversight","capacity"],featured:false,description:"Practical toolkit for strengthening parliamentary functions including oversight, lawmaking and representation."},
  {id:9,title:"Gender and Governance: A Global Review",type:"Article",category:"Governance",author:"UN Women",year:2023,pages:54,tags:["gender","inclusion","participation"],featured:true,description:"Global review of women's participation in governance institutions and policy-making processes."},
  {id:10,title:"PEFA Framework: Assessing PFM Systems",type:"Report",category:"Finance",author:"PEFA Secretariat",year:2022,pages:104,tags:["PEFA","assessment","PFM"],featured:false,description:"The Public Expenditure and Financial Accountability framework for assessing the quality of PFM systems."},
];

const HISTORY_DATA = [
  {id:1,title:"PFM reform strategies",date:"Today"},
  {id:2,title:"Electoral system comparison",date:"Yesterday"},
  {id:3,title:"Anti-corruption frameworks",date:"This week"},
  {id:4,title:"Open government initiatives",date:"This week"},
];

const SUGGESTED = [
  "What are the key principles of good governance?",
  "Explain the PEFA framework for PFM assessment",
  "How does UNCAC address corruption prevention?",
  "What are best practices in electoral design?",
  "Describe the Open Government Partnership",
  "How can governments strengthen oversight?",
];

// ========================= APP =========================
function App() {
  const [currentPage, setCurrentPage] = useState("welcome");
  const [selectedCourse, setSelectedCourse] = useState(null);
  const [user, setUser] = useState(null);
  const [authModal, setAuthModal] = useState(false);

  const navigate = (page, data = null) => {
    setCurrentPage(page);
    if (data) setSelectedCourse(data);
    window.scrollTo(0, 0);
  };

  return (
    <div className="app">
      {authModal && <AuthModal onClose={() => setAuthModal(false)} onLogin={u => { setUser(u); setAuthModal(false); }} />}
      {currentPage !== "welcome" && <TopNav currentPage={currentPage} navigate={navigate} user={user} setUser={setUser} />}
      {currentPage === "welcome" && <WelcomePage navigate={navigate} />}
      {currentPage === "learn" && <LearnPage navigate={navigate} user={user} />}
      {currentPage === "course" && <CourseViewPage navigate={navigate} course={selectedCourse} user={user} />}
      {currentPage === "research" && <ResearchPage navigate={navigate} />}
      {currentPage === "explore" && <ExplorePage navigate={navigate} user={user} />}
      {currentPage === "assess" && <AssessPage navigate={navigate} />}
      {currentPage === "analyse" && <AnalysePage navigate={navigate} />}
      {currentPage === "admin" && <AdminPage navigate={navigate} />}
      {currentPage === "student" && <StudentPage navigate={navigate} user={user} />}
    </div>
  );
}

function TopNav({ currentPage, navigate, user, setUser }) {
  const sections = [{id:"learn",label:"Learn"},{id:"research",label:"Research"},{id:"explore",label:"Explore"},{id:"assess",label:"Assess"},{id:"analyse",label:"Analyse"}];
  return (
    <nav className="topnav">
      <div className="topnav-inner">
        <button className="nav-logo" onClick={() => navigate("welcome")}>
          <span className="logo-icon"></span><span>GovHub</span>
        </button>
        <div className="nav-links">
          {sections.map(s => (
            <button key={s.id} className={`nav-link ${currentPage === s.id ? "active" : ""}`} onClick={() => navigate(s.id)}>{s.label}</button>
          ))}
        </div>
        <div className="nav-actions">
          {user ? (
            <div className="nav-user">
              <button className="btn-outline btn-sm" onClick={() => navigate("student")}>Dashboard</button>
              <button className="avatar-btn" onClick={() => setUser(null)}>{user.name[0]}</button>
            </div>
          ) : (
            <div className="nav-auth">
              <button className="btn-ghost btn-sm" onClick={() => navigate("admin")}>Admin</button>
              <button className="btn-primary btn-sm">Sign In</button>
            </div>
          )}
        </div>
      </div>
    </nav>
  );
}

function AuthModal({ onClose, onLogin }) {
  const [mode, setMode] = useState("login");
  const [form, setForm] = useState({ name: "", email: "", password: "" });
  const handleSubmit = (e) => { e.preventDefault(); onLogin({ name: form.name || "Student User", email: form.email }); };
  return (
    <div className="modal-overlay" onClick={onClose}>
      <div className="modal-card" onClick={e => e.stopPropagation()}>
        <button className="modal-close" onClick={onClose}></button>
        <div className="modal-header">
          <h2>{mode === "login" ? "Welcome back" : "Create account"}</h2>
          <p>{mode === "login" ? "Sign in to continue learning" : "Join thousands of learners"}</p>
        </div>
        <form onSubmit={handleSubmit} className="modal-form">
          {mode === "signup" && <input placeholder="Full name" value={form.name} onChange={e => setForm({...form, name: e.target.value})} required />}
          <input type="email" placeholder="Email address" value={form.email} onChange={e => setForm({...form, email: e.target.value})} required />
          <input type="password" placeholder="Password" value={form.password} onChange={e => setForm({...form, password: e.target.value})} required />
          <button type="submit" className="btn-primary">{mode === "login" ? "Sign In" : "Create Account"}</button>
        </form>
        <p className="modal-switch">
          {mode === "login" ? "Don't have an account? " : "Already have an account? "}
          <button onClick={() => setMode(mode === "login" ? "signup" : "login")}>{mode === "login" ? "Sign Up" : "Sign In"}</button>
        </p>
      </div>
    </div>
  );
}

// ========================= WELCOME =========================
const SECTIONS_DATA = [
  {id:"learn",title:"Learn",tagline:"E-Learning Platform",description:"Access comprehensive governance courses, interactive lessons, quizzes, and earn certificates on completion.",color:"#4DA771",lightColor:"#e8f5ee",emoji:""},
  {id:"research",title:"Research",tagline:"Digital E-Library",description:"Explore a curated collection of governance books, articles, white papers and research publications.",color:"#023137",lightColor:"#e6f0f2",emoji:""},
  {id:"explore",title:"Explore",tagline:"AI Research Assistant",description:"Chat with an AI assistant trained on governance resources. Ask questions, explore insights, get answers.",color:"#4DA771",lightColor:"#e8f5ee",emoji:""},
  {id:"assess",title:"Assess",tagline:"Governance Assessment",description:"Evaluate governance frameworks, run diagnostic assessments and access actionable improvement roadmaps.",color:"#023137",lightColor:"#e6f0f2",emoji:""},
  {id:"analyse",title:"Analyse",tagline:"Analytics & Insights",description:"Deep-dive into governance data, visualize trends, benchmark performance and generate strategic reports.",color:"#4DA771",lightColor:"#e8f5ee",emoji:""},
];

function WelcomePage({ navigate }) {
  return (
    <div className="welcome">
      <div className="welcome-bg">
        <div className="bg-blob bg-blob-1" />
        <div className="bg-blob bg-blob-2" />
        <div className="bg-grid" />
      </div>
      <header className="welcome-header">
        <div className="welcome-logo"><span className="logo-diamond"></span><span>Governance Resource Hub</span></div>
        <div className="welcome-header-actions">
          <button className="btn-ghost" onClick={() => navigate("admin")}>Admin</button>
          <button className="btn-primary btn-sm">Sign In</button>
        </div>
      </header>
      <div className="welcome-hero">
        <div className="hero-badge"><span className="hero-badge-dot" />Your Governance Intelligence Platform</div>
        <h1 className="hero-title">Everything you need for<span className="hero-title-accent"> governance excellence</span></h1>
        <p className="hero-subtitle">One unified platform for learning, research, AI-powered insights, and governance analysis.</p>
      </div>
      <div className="welcome-cards">
        {SECTIONS_DATA.map((s, i) => (
          <button key={s.id} className="welcome-card animate-up" style={{animationDelay:`${i*0.08}s`}} onClick={() => navigate(s.id)}>
            <div className="welcome-card-inner">
              <div className="card-icon-wrap" style={{background: s.lightColor}}>
                <div style={{fontSize:52}}>{s.emoji}</div>
              </div>
              <div className="card-content">
                <div className="card-tag" style={{color:s.color, background:s.lightColor}}>{s.tagline}</div>
                <h2 className="card-title">{s.title}</h2>
                <p className="card-desc">{s.description}</p>
              </div>
            </div>
          </button>
        ))}
      </div>
      <footer className="welcome-footer"> 2025 Governance Resource Hub. Empowering governance excellence.</footer>
    </div>
  );
}

// ========================= LEARN =========================
function LearnPage({ navigate, user }) {
  const [search, setSearch] = useState("");
  const [category, setCategory] = useState("All");
  const [level, setLevel] = useState("All Levels");
  const [activeTab, setActiveTab] = useState("all");
  const filtered = COURSES.filter(c => {
    const ms = c.title.toLowerCase().includes(search.toLowerCase()) || c.description.toLowerCase().includes(search.toLowerCase());
    const mc = category === "All" || c.category === category;
    const ml = level === "All Levels" || c.level === level;
    const mt = activeTab === "all" || (activeTab === "trending" && c.trending) || (activeTab === "featured" && c.featured) || (activeTab === "inprogress" && c.progress > 0);
    return ms && mc && ml && mt;
  });
  return (
    <div className="page-wrapper" style={{background:"var(--bg)"}}>
      <div className="learn-hero">
        <div className="container">
          <div className="learn-hero-inner">
            <div>
              <div className="section-label"> E-Learning Platform</div>
              <h1 className="section-title" style={{color:"white",fontSize:42}}>Advance your governance<br />expertise today</h1>
              <p style={{color:"rgba(255,255,255,0.8)",fontSize:16,marginBottom:24}}>{COURSES.length} expert-led courses. Learn at your own pace, earn verifiable certificates.</p>
              <div className="learn-hero-search">
                <span className="search-icon"></span>
                <input placeholder="Search courses, topics, instructors..." value={search} onChange={e => setSearch(e.target.value)} />
              </div>
            </div>
            <div className="hero-stats">
              <div className="hero-stat"><span className="stat-number">12K+</span><span className="stat-label">Learners</span></div>
              <div className="hero-stat"><span className="stat-number">50+</span><span className="stat-label">Courses</span></div>
              <div className="hero-stat"><span className="stat-number">95%</span><span className="stat-label">Completion</span></div>
            </div>
          </div>
        </div>
      </div>
      <div className="container learn-content">
        <div className="tabs">
          {[{id:"all",l:"All Courses"},{id:"trending",l:" Trending"},{id:"featured",l:" Featured"},{id:"inprogress",l:" In Progress"}].map(t => (
            <button key={t.id} className={`tab-btn ${activeTab===t.id?"active":""}`} onClick={() => setActiveTab(t.id)}>{t.l}</button>
          ))}
        </div>
        <div className="filter-row">
          <select className="select-field" value={category} onChange={e => setCategory(e.target.value)}>
            {["All","Governance Basics","Corporate","Finance","Integrity","Democracy","Digital"].map(c => <option key={c}>{c}</option>)}
          </select>
          <select className="select-field" value={level} onChange={e => setLevel(e.target.value)}>
            {["All Levels","Beginner","Intermediate","Advanced"].map(l => <option key={l}>{l}</option>)}
          </select>
          <span className="results-count">{filtered.length} courses</span>
        </div>
        <div className="courses-grid">
          {filtered.map((course, i) => (
            <div key={course.id} className="course-card animate-up" style={{animationDelay:`${i*0.06}s`}} onClick={() => navigate("course", course)}>
              <div className="course-thumb">
                <span className="course-emoji">{course.thumbnail}</span>
                {course.trending && <span className="course-badge badge-yellow"> Trending</span>}
                {course.featured && !course.trending && <span className="course-badge badge-green"> Featured</span>}
              </div>
              <div className="course-body">
                <div className="course-meta-top">
                  <span className="badge badge-green">{course.category}</span>
                  <span className="badge badge-gray">{course.level}</span>
                </div>
                <h3 className="course-title">{course.title}</h3>
                <p className="course-desc">{course.description}</p>
                <p className="course-instructor">By {course.instructor}</p>
                {course.progress > 0 && (
                  <div className="course-progress">
                    <div className="progress-bar"><div className="progress-fill" style={{width:`${course.progress}%`}} /></div>
                    <span>{course.progress}% complete</span>
                  </div>
                )}
                <div className="course-footer">
                  <div className="course-rating">
                    <span className="stars">{"".repeat(Math.floor(course.rating))}</span>
                    <span className="rating-num">{course.rating}</span>
                    <span className="rating-count">({course.students.toLocaleString()})</span>
                  </div>
                  <div className="course-info">
                    <span> {course.duration}</span>
                    <span> {course.lessons} sections</span>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
        {filtered.length === 0 && <div className="empty-state"><span className="empty-icon"></span><h3>No courses found</h3><p>Try adjusting your filters.</p></div>}
        <div style={{textAlign:"center",margin:"40px 0"}}>
          <button className="btn-outline" style={{padding:"14px 36px",fontSize:15}}>Explore More Courses </button>
        </div>
      </div>
    </div>
  );
}

// ========================= COURSE VIEW =========================
function CourseViewPage({ navigate, course, user }) {
  const [activeSection, setActiveSection] = useState(0);
  const [activeTopic, setActiveTopic] = useState(0);
  const [completedTopics, setCompletedTopics] = useState(new Set());
  const [activeTab, setActiveTab] = useState("video");
  const [quizAnswers, setQuizAnswers] = useState({});
  const [quizSubmitted, setQuizSubmitted] = useState(false);
  const [sidebarOpen, setSidebarOpen] = useState(true);

  if (!course) return <div className="page-wrapper" style={{display:"flex",alignItems:"center",justifyContent:"center"}}><div style={{textAlign:"center"}}><h2>No course selected</h2><button className="btn-primary" onClick={() => navigate("learn")} style={{marginTop:16}}> Back</button></div></div>;

  const section = course.sections[activeSection];
  const topicName = section.topics[activeTopic];
  const isQuiz = topicName.toLowerCase().includes("quiz") || topicName.toLowerCase().includes("exam") || topicName.toLowerCase().includes("assessment");
  const isCert = topicName.toLowerCase().includes("certificate");
  const totalTopics = course.sections.reduce((s,sec) => s + sec.topics.length, 0);
  const progressPct = Math.round((completedTopics.size / totalTopics) * 100);

  const markComplete = () => {
    const key = `${activeSection}-${activeTopic}`;
    setCompletedTopics(prev => new Set([...prev, key]));
    if (activeTopic < section.topics.length - 1) setActiveTopic(activeTopic + 1);
    else if (activeSection < course.sections.length - 1) { setActiveSection(activeSection + 1); setActiveTopic(0); }
  };

  const QUIZ_Q = [
    {q:`Which principle is central to "${topicName}"?`,opts:["Transparency and accountability","Opacity and centralisation","Market deregulation","Administrative complexity"],correct:0},
    {q:"What does good governance primarily achieve?",opts:["Political dominance","Sustainable development and rule of law","Economic monopoly","Administrative complexity"],correct:1},
    {q:"Which institution typically provides external oversight?",opts:["Cabinet Secretariat","Treasury Department","Supreme Audit Institution","Legislature alone"],correct:2},
    {q:"A key feature of effective accountability systems is:",opts:["Centralised decision-making","Clear assignment of responsibilities","Minimal reporting","Internal management only"],correct:1},
  ];
  const allAnswered = QUIZ_Q.every((_,i) => quizAnswers[i] !== undefined);
  const score = QUIZ_Q.reduce((s,q,i) => s + (quizAnswers[i] === q.correct ? 1 : 0), 0);

  return (
    <div className="course-view-layout">
      <div className="course-topbar">
        <button className="back-btn" onClick={() => navigate("learn")}> Back to Courses</button>
        <div className="course-topbar-title"><span>{course.thumbnail}</span><h2>{course.title}</h2></div>
        <div className="course-topbar-right">
          <div className="topbar-progress">
            <div className="progress-bar" style={{width:120}}><div className="progress-fill" style={{width:`${progressPct}%`}} /></div>
            <span>{progressPct}% complete</span>
          </div>
          <button className="sidebar-toggle" onClick={() => setSidebarOpen(!sidebarOpen)}></button>
        </div>
      </div>
      <div className="course-view-body">
        <div className="course-main">
          <div className="course-content-area">
            <div className="content-header">
              <div className="breadcrumb">Section {activeSection+1}: {section.title}  Topic {activeTopic+1}</div>
              <h1 className="content-title">{topicName}</h1>
            </div>
            <div className="tabs course-tabs">
              {!isQuiz && !isCert && <button className={`tab-btn ${activeTab==="video"?"active":""}`} onClick={() => setActiveTab("video")}> Video Lesson</button>}
              {isQuiz && <button className={`tab-btn ${activeTab==="quiz"?"active":""}`} onClick={() => setActiveTab("quiz")}> Quiz</button>}
              {!isQuiz && !isCert && <button className={`tab-btn ${activeTab==="notes"?"active":""}`} onClick={() => setActiveTab("notes")}> Lesson Notes</button>}
              {isCert && <button className={`tab-btn ${activeTab==="cert"?"active":""}`} onClick={() => setActiveTab("cert")}> Certificate</button>}
            </div>

            {activeTab === "video" && (
              <div className="video-container">
                <div className="video-player">
                  <div className="video-placeholder">
                    <div className="video-play-icon"></div>
                    <p className="video-label">{topicName}</p>
                    <p className="video-sublabel">YouTube video embeds here (in-app playback)</p>
                    <div className="video-mock-player">
                      <div className="video-progress-bar"><div className="video-progress-fill" /></div>
                      <div className="video-controls">
                        <button></button><button className="play-btn"></button><button></button>
                        <span className="time">4:32 / 18:45</span>
                        <button style={{marginLeft:"auto"}}></button><button></button>
                      </div>
                    </div>
                  </div>
                </div>
                <div className="video-info">
                  <h3>{topicName}</h3>
                  <p>This lesson covers key concepts related to <strong>{topicName}</strong> as part of <strong>{section.title}</strong>. Watch the full video then review lesson notes.</p>
                  <div className="video-resources">
                    <h4>Resources</h4>
                    <div className="resource-list">
                      <div className="resource-item"> Lesson Slides (PDF)</div>
                      <div className="resource-item"> Recommended Reading</div>
                      <div className="resource-item"> Reference Guide</div>
                    </div>
                  </div>
                </div>
              </div>
            )}

            {activeTab === "notes" && (
              <div className="lesson-notes">
                <div className="notes-header"><span> Lesson Notes</span><button className="btn-outline" style={{fontSize:12,padding:"6px 14px"}}>Download PDF</button></div>
                <div className="notes-body">
                  <h3>Overview: {topicName}</h3>
                  <p>This section explores fundamental principles underlying <strong>{topicName}</strong> within the context of <strong>{course.title}</strong>. Understanding these concepts is essential for practitioners working in governance environments.</p>
                  <h4>Key Concepts</h4>
                  <ul>
                    <li><strong>Principle 1:</strong> Accountability requires clear assignment of responsibilities and transparent reporting mechanisms.</li>
                    <li><strong>Principle 2:</strong> Effective governance integrates checks and balances at all institutional levels.</li>
                    <li><strong>Principle 3:</strong> Participation of diverse stakeholders strengthens legitimacy and sustainability.</li>
                    <li><strong>Principle 4:</strong> Rule of law underpins all governance structures regardless of context.</li>
                  </ul>
                  <h4>Practical Application</h4>
                  <p>In applying these concepts, practitioners should consider the local context, existing institutional frameworks, and the political economy of reform. Successful implementation requires both technical competence and political will.</p>
                  <h4>Case Study</h4>
                  <div className="case-study">
                    <strong>Case: Rwanda's Public Sector Reforms (20082020)</strong>
                    <p>Rwanda demonstrates how sustained political commitment, combined with technical assistance and strong accountability institutions, can drive significant improvements in governance outcomes within a relatively short period.</p>
                  </div>
                  <h4>Further Reading</h4>
                  <p>OECD (2023). <em>Government at a Glance</em>. Paris: OECD Publishing.</p>
                  <p>World Bank (2023). <em>Worldwide Governance Indicators</em>. Washington DC.</p>
                </div>
              </div>
            )}

            {activeTab === "quiz" && (
              <div className="quiz-area">
                <div className="quiz-header"><h3> Quiz: {topicName}</h3><p>Answer all questions to proceed. 75% pass mark.</p></div>
                {QUIZ_Q.map((q,qi) => (
                  <div key={qi} className="quiz-question">
                    <div className="question-num">Q{qi+1}</div>
                    <p className="question-text">{q.q}</p>
                    <div className="quiz-options">
                      {q.opts.map((opt,oi) => (
                        <button key={oi}
                          className={`quiz-option ${quizAnswers[qi]===oi?"selected":""} ${quizSubmitted&&oi===q.correct?"correct":""} ${quizSubmitted&&quizAnswers[qi]===oi&&oi!==q.correct?"wrong":""}`}
                          onClick={() => !quizSubmitted && setQuizAnswers({...quizAnswers,[qi]:oi})}>
                          <span className="option-letter">{["A","B","C","D"][oi]}</span>{opt}
                        </button>
                      ))}
                    </div>
                  </div>
                ))}
                {!quizSubmitted ? (
                  <button className="btn-primary" disabled={!allAnswered} onClick={() => setQuizSubmitted(true)}>Submit Quiz</button>
                ) : (
                  <div className={`quiz-result ${score>=3?"pass":"fail"}`}>
                    <div className="result-score">{score}/{QUIZ_Q.length}</div>
                    <div className="result-label">{score>=3?" Passed! Well done.":" Below 75%  try again."}</div>
                    {score<3 && <button className="btn-outline" style={{marginLeft:16}} onClick={() => {setQuizAnswers({});setQuizSubmitted(false);}}>Retry</button>}
                  </div>
                )}
              </div>
            )}

            {activeTab === "cert" && (
              <div className="cert-area">
                <div className="certificate">
                  <div className="cert-header"><div className="cert-logo"> Governance Resource Hub</div><div className="cert-tag">Certificate of Completion</div></div>
                  <div className="cert-body">
                    <p className="cert-presented">This is to certify that</p>
                    <h1 className="cert-name">{user?.name || "Your Name Here"}</h1>
                    <p className="cert-text">has successfully completed the course</p>
                    <h2 className="cert-course">{course.title}</h2>
                    <p className="cert-sub">with distinction, demonstrating comprehensive knowledge in governance excellence</p>
                  </div>
                  <div className="cert-footer">
                    <div className="cert-sig"><div className="cert-sig-line" /><p>Programme Director</p></div>
                    <div className="seal-circle">GRH</div>
                    <div className="cert-sig"><div className="cert-sig-line" /><p>Date: {new Date().toLocaleDateString("en-GB",{month:"long",year:"numeric"})}</p></div>
                  </div>
                </div>
                <div style={{textAlign:"center",marginTop:24,display:"flex",gap:12,justifyContent:"center"}}>
                  <button className="btn-primary"> Claim Certificate</button>
                  <button className="btn-outline"> Download PDF</button>
                </div>
              </div>
            )}

            {!isCert && (
              <div className="complete-section">
                <button className="btn-primary" onClick={markComplete}> Mark Complete & Continue</button>
                <span className="complete-hint">{completedTopics.has(`${activeSection}-${activeTopic}`) ? " Completed" : "Mark when ready to advance"}</span>
              </div>
            )}
          </div>
        </div>
        {sidebarOpen && (
          <div className="course-sidebar">
            <div className="sidebar-header"><h3>Course Curriculum</h3><span className="sidebar-progress">{progressPct}%</span></div>
            <div className="curriculum-list">
              {course.sections.map((sec,si) => (
                <div key={si} className="curriculum-section">
                  <button className={`section-header-btn ${si===activeSection?"active":""}`} onClick={() => {setActiveSection(si);setActiveTopic(0);}}>
                    <span className="sec-num">{si+1}</span>
                    <div className="sec-info"><div className="sec-title">{sec.title}</div><div className="sec-count">{sec.topics.length} topics</div></div>
                    <span className="sec-chevron">{si===activeSection?"":""}</span>
                  </button>
                  {si === activeSection && (
                    <div className="topic-list">
                      {sec.topics.map((topic,ti) => {
                        const isC = completedTopics.has(`${si}-${ti}`);
                        const isCur = si===activeSection && ti===activeTopic;
                        const isQT = topic.toLowerCase().includes("quiz") || topic.toLowerCase().includes("exam");
                        const isCT = topic.toLowerCase().includes("certificate");
                        return (
                          <button key={ti} className={`topic-item ${isCur?"current":""} ${isC?"completed":""}`} onClick={() => setActiveTopic(ti)}>
                            <span className="topic-icon">{isC?"":isQT?"":isCT?"":""}</span>
                            <span className="topic-name">{topic}</span>
                          </button>
                        );
                      })}
                    </div>
                  )}
                </div>
              ))}
            </div>
          </div>
        )}
      </div>
    </div>
  );
}

// ========================= RESEARCH =========================
function ResearchPage({ navigate }) {
  const [search, setSearch] = useState("");
  const [selectedTypes, setSelectedTypes] = useState([]);
  const [selectedCats, setSelectedCats] = useState([]);
  const [viewMode, setViewMode] = useState("grid");
  const [openResource, setOpenResource] = useState(null);

  const toggle = (arr, setArr, val) => setArr(arr.includes(val) ? arr.filter(x=>x!==val) : [...arr, val]);
  const filtered = RESOURCES.filter(r => {
    const ms = r.title.toLowerCase().includes(search.toLowerCase()) || r.author.toLowerCase().includes(search.toLowerCase()) || r.tags.some(t=>t.includes(search.toLowerCase()));
    const mt = !selectedTypes.length || selectedTypes.includes(r.type);
    const mc = !selectedCats.length || selectedCats.includes(r.category);
    return ms && mt && mc;
  });
  const typeColor = t => ({Book:"#4DA771",Report:"#023137",Article:"#F5C518"}[t]||"#888");
  const typeIcon = t => ({Book:"",Report:"",Article:""}[t]||"");

  if (openResource) {
    return (
      <div className="page-wrapper pdf-reader">
        <div className="pdf-topbar">
          <button className="back-btn" onClick={() => setOpenResource(null)} style={{color:"var(--secondary)"}}> Back to Library</button>
          <div className="pdf-title"><strong>{openResource.title}</strong><span>{openResource.author}  {openResource.year}</span></div>
          <button className="btn-primary btn-sm"> Download</button>
        </div>
        <div className="pdf-viewer">
          <div className="pdf-page">
            <div className="pdf-header-mark"><span>{openResource.title}</span><span>Page 1 of {openResource.pages}</span></div>
            <div className="pdf-content">
              <h2>{openResource.title}</h2>
              <p><strong>Author:</strong> {openResource.author} &nbsp;|&nbsp; <strong>Year:</strong> {openResource.year} &nbsp;|&nbsp; <strong>Pages:</strong> {openResource.pages}</p>
              <hr style={{margin:"20px 0",border:"none",borderTop:"1px solid var(--border)"}} />
              <h3>Abstract</h3>
              <p style={{lineHeight:1.8,color:"var(--text-secondary)"}}>{openResource.description}</p>
              <h3>Introduction</h3>
              <p style={{lineHeight:1.8,color:"var(--text-secondary)"}}>This publication represents a significant contribution to the field of {openResource.category.toLowerCase()} governance. Drawing on extensive research and field experience, it provides practitioners, policymakers, and academics with actionable insights and evidence-based recommendations.</p>
              <h3>Scope and Methodology</h3>
              <p style={{lineHeight:1.8,color:"var(--text-secondary)"}}>The research draws on comparative case studies from across the globe, primary data from institutional surveys, and expert consultations conducted over a 24-month period. Findings are presented in accessible language to support practitioners at all levels.</p>
            </div>
            <div className="pdf-footer-mark"><span>{openResource.author}  {openResource.year}</span><span>1</span></div>
          </div>
        </div>
        <div className="pdf-nav-bar">
          <button className="btn-outline" disabled> Previous</button>
          <span style={{fontSize:14,color:"var(--text-muted)"}}>Page 1 of {openResource.pages}</span>
          <button className="btn-primary">Next </button>
        </div>
      </div>
    );
  }

  return (
    <div className="page-wrapper" style={{background:"var(--bg)"}}>
      <div className="research-hero">
        <div className="container">
          <div className="section-label"> E-Library</div>
          <h1 className="section-title" style={{color:"white"}}>Governance Resource Library</h1>
          <p style={{color:"rgba(255,255,255,0.75)",marginBottom:28,fontSize:16}}>{RESOURCES.length} curated resources  books, reports, articles</p>
          <div style={{position:"relative",maxWidth:520}}>
            <span style={{position:"absolute",left:18,top:"50%",transform:"translateY(-50%)",fontSize:18}}></span>
            <input className="input-field" placeholder="Search titles, authors, topics..." value={search} onChange={e => setSearch(e.target.value)} style={{borderRadius:"var(--radius-full)",paddingLeft:48,background:"white"}} />
          </div>
        </div>
      </div>
      <div className="container research-content">
        <div className="research-layout">
          <aside className="filter-sidebar">
            <div className="sidebar-title">
              <h3>Filters</h3>
              {(selectedTypes.length||selectedCats.length) ? <button className="clear-btn" onClick={() => {setSelectedTypes([]);setSelectedCats([]);}}>Clear all</button> : null}
            </div>
            <div className="filter-group">
              <div className="filter-group-title">Resource Type</div>
              {["Book","Report","Article"].map(t => (
                <label key={t} className="filter-check">
                  <input type="checkbox" checked={selectedTypes.includes(t)} onChange={() => toggle(selectedTypes,setSelectedTypes,t)} />
                  <span>{t}</span><span className="filter-count">{RESOURCES.filter(r=>r.type===t).length}</span>
                </label>
              ))}
            </div>
            <div className="filter-group">
              <div className="filter-group-title">Category</div>
              {["Finance","Integrity","Governance","Democracy","Transparency","Digital"].map(c => (
                <label key={c} className="filter-check">
                  <input type="checkbox" checked={selectedCats.includes(c)} onChange={() => toggle(selectedCats,setSelectedCats,c)} />
                  <span>{c}</span><span className="filter-count">{RESOURCES.filter(r=>r.category===c).length}</span>
                </label>
              ))}
            </div>
          </aside>
          <div className="research-results">
            <div className="results-header">
              <span className="results-count-text">{filtered.length} resources found</span>
              <div className="view-toggle">
                <button className={viewMode==="grid"?"active":""} onClick={() => setViewMode("grid")}></button>
                <button className={viewMode==="list"?"active":""} onClick={() => setViewMode("list")}></button>
              </div>
            </div>
            {viewMode === "grid" ? (
              <div className="resources-grid">
                {filtered.map((r,i) => (
                  <div key={r.id} className="resource-card animate-up" style={{animationDelay:`${i*0.05}s`}} onClick={() => setOpenResource(r)}>
                    <div className="resource-cover" style={{background:`linear-gradient(135deg, ${typeColor(r.type)}22, ${typeColor(r.type)}44)`}}>
                      <span className="resource-type-icon">{typeIcon(r.type)}</span>
                      {r.featured && <span className="featured-badge">Featured</span>}
                    </div>
                    <div className="resource-body">
                      <div className="resource-meta-top">
                        <span className="badge" style={{background:`${typeColor(r.type)}22`,color:typeColor(r.type)}}>{r.type}</span>
                        <span className="badge badge-gray">{r.category}</span>
                      </div>
                      <h3 className="resource-title">{r.title}</h3>
                      <p className="resource-desc">{r.description}</p>
                      <div className="resource-footer">
                        <span className="resource-author">{r.author}</span>
                        <span className="resource-year">{r.year}  {r.pages}pp</span>
                      </div>
                      <div className="resource-tags">{r.tags.slice(0,3).map(t=><span key={t} className="tag">{t}</span>)}</div>
                      <div className="resource-actions">
                        <button className="btn-primary" style={{flex:1,padding:"10px",fontSize:13}}>Read Now</button>
                        <button className="btn-outline" style={{padding:"10px 14px",fontSize:13}}></button>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            ) : (
              <div className="resources-list">
                {filtered.map((r,i) => (
                  <div key={r.id} className="resource-list-item" onClick={() => setOpenResource(r)}>
                    <div className="list-icon" style={{background:`${typeColor(r.type)}22`,color:typeColor(r.type)}}>{typeIcon(r.type)}</div>
                    <div className="list-info">
                      <h3>{r.title}</h3><p>{r.description}</p>
                      <div style={{display:"flex",gap:8,marginTop:8,flexWrap:"wrap"}}>
                        <span className="badge" style={{background:`${typeColor(r.type)}22`,color:typeColor(r.type)}}>{r.type}</span>
                        <span className="badge badge-gray">{r.category}</span>
                        {r.tags.slice(0,2).map(t=><span key={t} className="tag">{t}</span>)}
                      </div>
                    </div>
                    <div className="list-meta">
                      <span className="resource-author">{r.author}</span>
                      <span className="resource-year">{r.year}</span>
                      <div className="list-actions">
                        <button className="btn-primary btn-sm">Read</button>
                        <button className="btn-outline btn-sm"></button>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            )}
            {filtered.length === 0 && <div className="empty-state"><span className="empty-icon"></span><h3>No resources match</h3><p>Try adjusting your filters.</p></div>}
          </div>
        </div>
      </div>
    </div>
  );
}

// ========================= EXPLORE AI =========================
function ExplorePage({ user }) {
  const [messages, setMessages] = useState([{role:"assistant",content:"Hello! I'm the **GovHub AI Research Assistant**. I can help you with governance research, PFM frameworks, anti-corruption strategies, electoral systems, and more.\n\nWhat would you like to explore today?"}]);
  const [input, setInput] = useState("");
  const [loading, setLoading] = useState(false);
  const [sidebarOpen, setSidebarOpen] = useState(true);
  const [activeChat, setActiveChat] = useState(1);
  const chatEndRef = useRef(null);
  useEffect(() => { chatEndRef.current?.scrollIntoView({behavior:"smooth"}); }, [messages]);

  const respond = async (msg) => {
    setLoading(true);
    await new Promise(r => setTimeout(r, 1100));
    const lmsg = msg.toLowerCase();
    let res = "";
    if (lmsg.includes("pfm") || lmsg.includes("public financial")) {
      res = "## Public Financial Management (PFM)\n\nPFM encompasses the laws, systems, and processes governments use to manage public resources.\n\n**Key Pillars:**\n- Budget Preparation (MTEF, Programme Budgeting)\n- Budget Execution (TSA, Commitment Controls)\n- Accountability (Internal & External Audit)\n- Legislative Oversight (PAC, Budget Hearings)\n\n**The PEFA Framework** assesses PFM systems across 31 indicators and 7 pillars of performance.\n\nWould you like to explore any specific pillar?";
    } else if (lmsg.includes("uncac") || lmsg.includes("corruption")) {
      res = "## UNCAC & Anti-Corruption\n\nThe UN Convention Against Corruption (UNCAC), ratified by 190+ states, has four main chapters:\n\n**Prevention**  Anti-corruption policies, asset declaration, whistleblower protection\n\n**Criminalisation**  Bribery, trading in influence, money laundering\n\n**International Cooperation**  Mutual legal assistance, extradition\n\n**Asset Recovery**  Return of proceeds of corruption\n\nThe **Corruption Perceptions Index (CPI)** by Transparency International measures perceived corruption in 180 countries annually.";
    } else if (lmsg.includes("governance") || lmsg.includes("principle")) {
      res = "## Principles of Good Governance\n\nThe UNDP identifies 8 characteristics:\n\n1. **Participatory**  All can engage\n2. **Consensus-oriented**  Mediates interests\n3. **Accountable**  Answers to stakeholders\n4. **Transparent**  Open decision-making\n5. **Responsive**  Timely service delivery\n6. **Effective & Efficient**  Sustainable use of resources\n7. **Equitable & Inclusive**  Equal access\n8. **Rule of Law**  Fair, impartial enforcement\n\nThe World Bank's WGI measures six governance dimensions globally.";
    } else {
      res = `I can help you research "${msg}" from our governance knowledge base.\n\n**Relevant frameworks to consider:**\n- OECD Governance Principles\n- UN SDG 16 (Peace, Justice, Strong Institutions)\n- World Bank Governance Indicators\n- INTOSAI Auditing Standards\n\nFor deeper research, I recommend exploring our **Research Library** for academic resources, or checking our **Learn** courses for structured learning. Would you like me to search for specific information?`;
    }
    setMessages(prev => [...prev, {role:"assistant", content:res}]);
    setLoading(false);
  };

  const handleSend = () => {
    if (!input.trim() || loading) return;
    const msg = input.trim(); setInput("");
    setMessages(prev => [...prev, {role:"user", content:msg}]);
    respond(msg);
  };

  const fmt = (text) => text
    .replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")
    .replace(/^## (.*?)$/gm,"<h3 style='font-size:16px;font-weight:800;color:var(--secondary);margin:16px 0 8px'>$1</h3>")
    .replace(/^### (.*?)$/gm,"<h4 style='font-weight:700;color:var(--secondary);margin:10px 0 6px'>$1</h4>")
    .replace(/^- (.*?)$/gm,"<li>$1</li>")
    .replace(/(<li>.*<\/li>)+/g,"<ul style='padding-left:20px;margin:8px 0'>$&</ul>")
    .replace(/\n\n/g,"<br/><br/>")
    .replace(/\n/g,"<br/>");

  return (
    <div className="explore-layout page-wrapper">
      {sidebarOpen && (
        <div className="chat-sidebar">
          <div className="chat-sidebar-header">
            <span className="sidebar-logo"> GovHub AI</span>
            <button className="new-chat-btn" onClick={() => setMessages([{role:"assistant",content:"New chat started. How can I help with your governance research?"}])}>+ New</button>
          </div>
          <div className="chat-history">
            <div className="history-group-label">Recent</div>
            {HISTORY_DATA.map(h => (
              <button key={h.id} className={`history-item ${activeChat===h.id?"active":""}`} onClick={() => setActiveChat(h.id)}>
                <span className="history-icon"></span>
                <div className="history-info"><span className="history-title">{h.title}</span><span className="history-date">{h.date}</span></div>
              </button>
            ))}
          </div>
          <div className="sidebar-footer">
            <div className="powered-by"><span>Powered by</span><span className="powered-name">ChatGPT + GovHub KB</span></div>
            <p className="sidebar-note">AI guidance only. Always verify with primary sources.</p>
          </div>
        </div>
      )}
      <div className="chat-area">
        <div className="chat-topbar">
          <button className="sidebar-toggle-btn" onClick={() => setSidebarOpen(!sidebarOpen)}></button>
          <div className="chat-title"><h2>AI Research Assistant</h2><div className="online-dot" /><span>Online</span></div>
        </div>
        <div className="messages-area">
          {messages.length === 1 && (
            <div className="suggestions-area">
              <p className="suggestions-label">Suggested questions:</p>
              <div className="suggestions-grid">
                {SUGGESTED.map((s,i) => <button key={i} className="suggestion-chip" onClick={() => setInput(s)}>{s}</button>)}
              </div>
            </div>
          )}
          {messages.map((m,i) => (
            <div key={i} className={`message-row ${m.role}`}>
              {m.role==="assistant" && <div className="avatar assistant-avatar"></div>}
              <div className={`message-bubble ${m.role}`}>
                {m.role==="assistant"
                  ? <div className="message-content" dangerouslySetInnerHTML={{__html:fmt(m.content)}} />
                  : <p className="message-content">{m.content}</p>}
              </div>
              {m.role==="user" && <div className="avatar user-avatar">{user?.name?.[0]||"U"}</div>}
            </div>
          ))}
          {loading && (
            <div className="message-row assistant">
              <div className="avatar assistant-avatar"></div>
              <div className="message-bubble assistant"><div className="typing-dots"><span/><span/><span/></div></div>
            </div>
          )}
          <div ref={chatEndRef} />
        </div>
        <div className="chat-input-area">
          <div className="input-wrapper">
            <textarea className="chat-input" placeholder="Ask anything about governance, anti-corruption, PFM, elections..." value={input} onChange={e => setInput(e.target.value)}
              onKeyDown={e => { if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();handleSend();}}} rows={1} />
            <button className="send-btn" onClick={handleSend} disabled={!input.trim()||loading}></button>
          </div>
          <p className="input-hint">Enter to send  Shift+Enter for new line</p>
        </div>
      </div>
    </div>
  );
}

// ========================= ASSESS =========================
function AssessPage() {
  const [activeService, setActiveService] = useState(0);
  const services = [
    {icon:"",title:"Governance Health Check",desc:"A comprehensive diagnostic assessment of your institution's governance structures against international standards.",features:["Board and leadership assessment","Policy framework review","Compliance gap analysis","Risk identification","Peer benchmarking"]},
    {icon:"",title:"PFM Assessment",desc:"Evaluate your public financial management system using the globally recognised PEFA framework across 31 performance indicators.",features:["Budget preparation quality","Treasury operations review","Internal controls assessment","External audit effectiveness","Legislative oversight capacity"]},
    {icon:"",title:"Integrity Risk Assessment",desc:"Identify corruption risks, assess integrity systems and develop targeted prevention strategies.",features:["Corruption vulnerability mapping","Asset declaration review","Procurement risk analysis","Whistleblower mechanism audit","Conflict of interest review"]},
    {icon:"",title:"Digital Governance Readiness",desc:"Assess your readiness to deliver effective digital government services and citizen engagement platforms.",features:["Digital infrastructure review","E-services capacity assessment","Open data compliance","Cybersecurity posture","Citizen experience evaluation"]},
  ];
  return (
    <div className="page-wrapper static-page">
      <section className="static-hero assess-hero">
        <div className="container">
          <div className="hero-pill">Assessment & Diagnostics</div>
          <h1>Know where you stand.<br /><span>Then transform.</span></h1>
          <p>Evidence-based governance assessments that identify gaps, benchmark performance, and generate actionable improvement roadmaps.</p>
          <div className="hero-ctas">
            <button className="btn-accent">Start Your Assessment </button>
            <button className="btn-outline" style={{borderColor:"rgba(255,255,255,0.4)",color:"white"}}>View Sample Report</button>
          </div>
          <div className="hero-trust">
            <span>Trusted by</span>
            <div className="trust-logos">
              {["World Bank","UNDP","OECD","ADB","AU Commission"].map(t => <span key={t}>{t}</span>)}
            </div>
          </div>
        </div>
      </section>
      <section className="assess-services container">
        <div className="section-label">Our Services</div>
        <h2 className="section-title">Comprehensive Assessment Solutions</h2>
        <div className="services-layout">
          <div className="services-nav">
            {services.map((s,i) => (
              <button key={i} className={`service-nav-item ${activeService===i?"active":""}`} onClick={() => setActiveService(i)}>
                <span>{s.icon}</span><span>{s.title}</span><span className="nav-arrow"></span>
              </button>
            ))}
          </div>
          <div className="service-detail">
            <div className="service-icon-large">{services[activeService].icon}</div>
            <h3>{services[activeService].title}</h3>
            <p>{services[activeService].desc}</p>
            <ul className="service-features">
              {services[activeService].features.map((f,i) => <li key={i}><span className="check"></span>{f}</li>)}
            </ul>
            <button className="btn-primary" style={{marginTop:24}}>Request This Assessment</button>
          </div>
        </div>
      </section>
      <section className="assess-process">
        <div className="container">
          <div className="section-label" style={{color:"rgba(255,255,255,0.6)",background:"rgba(255,255,255,0.1)"}}>Our Process</div>
          <h2 className="section-title" style={{color:"white"}}>How It Works</h2>
          <div className="process-steps">
            {[{num:"01",t:"Scoping",d:"Define assessment boundaries, objectives and methodology."},{num:"02",t:"Data Collection",d:"Document review, interviews, surveys and site visits."},{num:"03",t:"Analysis",d:"Evidence-based scoring against international benchmarks."},{num:"04",t:"Reporting",d:"Detailed findings report with prioritised recommendations."},{num:"05",t:"Action Planning",d:"Co-develop a reform implementation roadmap."}].map(s => (
              <div key={s.num} className="process-step">
                <div className="step-num">{s.num}</div>
                <h4>{s.t}</h4><p>{s.d}</p>
              </div>
            ))}
          </div>
        </div>
      </section>
      <section className="assess-stats container">
        {[{n:"320+",l:"Assessments Completed"},{n:"48",l:"Countries Covered"},{n:"95%",l:"Client Satisfaction"},{n:"12+",l:"Years Experience"}].map(s => (
          <div key={s.l} className="stat-card"><div className="big-stat">{s.n}</div><div className="stat-label">{s.l}</div></div>
        ))}
      </section>
      <section className="assess-cta">
        <div className="container" style={{textAlign:"center"}}>
          <h2>Ready to assess your governance?</h2>
          <p>Get in touch for a free initial consultation.</p>
          <button className="btn-primary" style={{marginTop:24}}>Book a Consultation </button>
        </div>
      </section>
    </div>
  );
}

// ========================= ANALYSE =========================
const COUNTRIES = [
  {name:"Nigeria",score:64,trend:"+3",flag:""},{name:"Ghana",score:72,trend:"+5",flag:""},{name:"Kenya",score:67,trend:"+2",flag:""},
  {name:"Rwanda",score:78,trend:"+8",flag:""},{name:"South Africa",score:70,trend:"-1",flag:""},{name:"United Kingdom",score:88,trend:"+1",flag:""},
];
const DIMENSIONS = [{label:"Voice & Accountability",score:68},{label:"Political Stability",score:52},{label:"Government Effectiveness",score:61},{label:"Regulatory Quality",score:64},{label:"Rule of Law",score:59},{label:"Control of Corruption",score:45}];

function AnalysePage() {
  const [selectedCountry, setSelectedCountry] = useState(COUNTRIES[0]);
  const [activeTab, setActiveTab] = useState("overview");
  return (
    <div className="page-wrapper static-page">
      <section className="static-hero analyse-hero">
        <div className="container">
          <div className="hero-pill">Data & Analytics</div>
          <h1>Governance Intelligence<br /><span>Platform</span></h1>
          <p>Comprehensive governance data analytics, trend analysis, and visualisation tools for researchers and policymakers.</p>
          <div className="hero-ctas">
            <button className="btn-accent">Explore Dashboard </button>
            <button className="btn-outline" style={{borderColor:"rgba(255,255,255,0.4)",color:"white"}}>Download Data</button>
          </div>
        </div>
      </section>
      <section className="container analyse-demo">
        <div className="section-label">Live Demo Dashboard</div>
        <h2 className="section-title">Governance Analytics at a Glance</h2>
        <div className="analytics-shell">
          <div className="country-list">
            <div className="country-list-header">Country Comparison</div>
            {COUNTRIES.map(c => (
              <button key={c.name} className={`country-item ${selectedCountry.name===c.name?"active":""}`} onClick={() => setSelectedCountry(c)}>
                <span className="country-flag">{c.flag}</span>
                <span className="country-name">{c.name}</span>
                <div style={{marginLeft:"auto",textAlign:"right"}}>
                  <span className="country-score">{c.score}</span>
                  <span className={`country-trend ${c.trend.startsWith("+")?"up":"down"}`}>{c.trend}</span>
                </div>
              </button>
            ))}
          </div>
          <div className="analytics-panel">
            <div className="panel-header">
              <div><h3>{selectedCountry.flag} {selectedCountry.name}  Governance Index</h3><p className="panel-sub">Composite score  6 WGI dimensions  2023</p></div>
              <div className="overall-score"><span>{selectedCountry.score}</span><small>/100</small></div>
            </div>
            <div className="tabs" style={{marginBottom:24}}>
              {["overview","trends","comparison"].map(t => (
                <button key={t} className={`tab-btn ${activeTab===t?"active":""}`} onClick={() => setActiveTab(t)}>{t.charAt(0).toUpperCase()+t.slice(1)}</button>
              ))}
            </div>
            {activeTab === "overview" && (
              <>
                <div className="dimensions-list">
                  {DIMENSIONS.map(d => (
                    <div key={d.label} className="dimension-row">
                      <span className="dimension-label">{d.label}</span>
                      <div className="dimension-bar-wrap">
                        <div className="dimension-bar"><div className="dimension-fill" style={{width:`${d.score}%`,background:d.score>65?"var(--primary)":d.score>50?"var(--accent)":"#ef4444"}} /></div>
                        <span className="dimension-score">{d.score}</span>
                      </div>
                    </div>
                  ))}
                </div>
                <div className="insight-card">
                  <span className="insight-icon"></span>
                  <div><strong>Key Insight:</strong> {selectedCountry.name} shows strongest performance in Regulatory Quality but faces challenges in Control of Corruption and Political Stability. Reform priority should focus on integrity mechanisms.</div>
                </div>
              </>
            )}
            {activeTab === "trends" && (
              <div className="chart-placeholder">
                <div className="chart-bars">
                  {[58,61,62,59,63,64,selectedCountry.score].map((val,i) => (
                    <div key={i} className="chart-bar-col">
                      <div className="chart-bar-fill" style={{height:`${val}%`}}><span className="bar-val">{val}</span></div>
                      <span className="bar-year">{2017+i}</span>
                    </div>
                  ))}
                </div>
                <p className="chart-label">Governance Index Score (20172023)</p>
              </div>
            )}
            {activeTab === "comparison" && (
              <div className="comparison-table">
                <table>
                  <thead><tr><th>Country</th><th>Score</th><th>Trend</th></tr></thead>
                  <tbody>
                    {COUNTRIES.map(c => (
                      <tr key={c.name} className={c.name===selectedCountry.name?"highlighted":""}>
                        <td>{c.flag} {c.name}</td>
                        <td><strong>{c.score}</strong></td>
                        <td className={c.trend.startsWith("+")?"trend-up":"trend-down"}>{c.trend}</td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            )}
          </div>
        </div>
      </section>
      <section className="analyse-features">
        <div className="container">
          <h2 className="section-title" style={{color:"white"}}>Platform Capabilities</h2>
          <div className="grid-3" style={{marginTop:40}}>
            {[{i:"",t:"Multi-Country Analytics",d:"Compare governance across 190+ countries."},{i:"",t:"Trend Analysis",d:"Track governance trajectories over time."},{i:"",t:"Regional Benchmarking",d:"Benchmark against regional peers."},{i:"",t:"Data Export",d:"Download data, charts, and reports."},{i:"",t:"Custom Alerts",d:"Get alerts for governance changes."},{i:"",t:"Deep Dive Reports",d:"Access detailed analytical reports."}].map(f => (
              <div key={f.t} className="feature-card" style={{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"var(--radius-lg)",padding:28}}>
                <div className="feature-icon">{f.i}</div>
                <h4 style={{color:"white",fontWeight:700,marginBottom:8}}>{f.t}</h4>
                <p style={{color:"rgba(255,255,255,0.55)",fontSize:13,lineHeight:1.6}}>{f.d}</p>
              </div>
            ))}
          </div>
        </div>
      </section>
      <section className="assess-cta">
        <div className="container" style={{textAlign:"center"}}>
          <h2>Access the full analytics platform</h2>
          <p>Get comprehensive governance data, custom reports and research tools.</p>
          <button className="btn-primary" style={{marginTop:24}}>Request Access </button>
        </div>
      </section>
    </div>
  );
}

// ========================= ADMIN =========================
const MOCK_STUDENTS = [
  {id:1,name:"Adaeze Okonkwo",email:"adaeze@email.com",courses:3,progress:78,joined:"Jan 2025",status:"Active"},
  {id:2,name:"Emeka Chibuike",email:"emeka@email.com",courses:2,progress:45,joined:"Feb 2025",status:"Active"},
  {id:3,name:"Fatima Hassan",email:"fatima@email.com",courses:5,progress:92,joined:"Dec 2024",status:"Completed"},
  {id:4,name:"Kwame Asante",email:"kwame@email.com",courses:1,progress:20,joined:"Mar 2025",status:"Active"},
  {id:5,name:"Ngozi Adebayo",email:"ngozi@email.com",courses:4,progress:65,joined:"Jan 2025",status:"Active"},
  {id:6,name:"Samuel Osei",email:"samuel@email.com",courses:2,progress:100,joined:"Nov 2024",status:"Certified"},
];

function AdminPage({ navigate }) {
  const [active, setActive] = useState("overview");
  const [showAddCourse, setShowAddCourse] = useState(false);
  const [search, setSearch] = useState("");
  const [step, setStep] = useState(1);

  const navItems = [{id:"overview",l:"Overview",i:""},{id:"courses",l:"Courses",i:""},{id:"students",l:"Students",i:""},{id:"certs",l:"Certificates",i:""},{id:"settings",l:"Settings",i:""}];

  return (
    <div className="admin-layout page-wrapper">
      <div className="admin-sidebar">
        <div className="admin-sidebar-header"><span className="admin-logo"> GovHub Admin</span></div>
        <nav className="admin-nav">
          {navItems.map(s => (
            <button key={s.id} className={`admin-nav-item ${active===s.id?"active":""}`} onClick={() => setActive(s.id)}>
              <span>{s.i}</span><span>{s.l}</span>
            </button>
          ))}
        </nav>
        <div className="admin-sidebar-footer">
          <button className="admin-nav-item" onClick={() => navigate("welcome")}> Exit Admin</button>
        </div>
      </div>
      <div className="admin-main">
        {active === "overview" && (
          <div className="admin-section">
            <div className="admin-page-header"><div><h1>Dashboard Overview</h1><p>Welcome back, Super Admin</p></div></div>
            <div className="stats-grid">
              {[{i:"",l:"Total Students",v:"1,248",c:"+12%",up:true},{i:"",l:"Active Courses",v:"6",c:"+2",up:true},{i:"",l:"Certificates Issued",v:"342",c:"+28",up:true},{i:"",l:"Completion Rate",v:"78%",c:"+5%",up:true}].map(s => (
                <div key={s.l} className="admin-stat-card">
                  <div className="admin-stat-icon">{s.i}</div>
                  <div className="admin-stat-value">{s.v}</div>
                  <div className="admin-stat-label">{s.l}</div>
                  <div className={`admin-stat-change ${s.up?"up":"down"}`}>{s.c}</div>
                </div>
              ))}
            </div>
            <div className="admin-grid-2">
              <div className="admin-card">
                <h3>Recent Registrations</h3>
                <div className="mini-student-list">
                  {MOCK_STUDENTS.slice(0,4).map(s => (
                    <div key={s.id} className="mini-student-item">
                      <div className="student-avatar-sm">{s.name[0]}</div>
                      <div><div className="mini-student-name">{s.name}</div><div className="mini-student-sub">{s.courses} courses  {s.joined}</div></div>
                      <span className={`badge ${s.status==="Certified"?"badge-yellow":s.status==="Completed"?"badge-blue":"badge-green"}`}>{s.status}</span>
                    </div>
                  ))}
                </div>
              </div>
              <div className="admin-card">
                <h3>Course Enrollment</h3>
                <div className="enrollment-bars">
                  {[{name:"Foundations of Governance",enrolled:342},{name:"Corporate Governance",enrolled:218},{name:"Public Financial Mgmt",enrolled:165},{name:"Anti-Corruption",enrolled:289},{name:"Electoral Systems",enrolled:410},{name:"Open Government",enrolled:134}].map(c => (
                    <div key={c.name} className="enroll-row">
                      <span className="enroll-name">{c.name}</span>
                      <div className="enroll-bar-wrap">
                        <div className="dimension-bar"><div className="dimension-fill" style={{width:`${Math.min(100,(c.enrolled/450)*100)}%`,background:"var(--primary)"}} /></div>
                        <span className="enroll-count">{c.enrolled}</span>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        )}
        {active === "courses" && (
          <div className="admin-section">
            <div className="admin-page-header">
              <div><h1>Course Management</h1><p>Manage courses, sections, topics, and video content</p></div>
              <button className="btn-primary" onClick={() => setShowAddCourse(!showAddCourse)}>+ Add New Course</button>
            </div>
            {showAddCourse && (
              <div className="admin-card add-course-form">
                <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24}}>
                  <h3>Add New Course  Step {step} of 3</h3>
                  <button onClick={() => setShowAddCourse(false)} style={{width:32,height:32,borderRadius:"50%",background:"var(--bg)",color:"var(--text-secondary)",display:"flex",alignItems:"center",justifyContent:"center"}}></button>
                </div>
                <div className="form-steps-indicator">
                  {["Course Details","Sections & Topics","Content & Videos"].map((s,i) => (
                    <div key={s} className={`form-step-dot ${i+1<=step?"active":""}`}>
                      <span>{i+1}</span><label>{s}</label>
                    </div>
                  ))}
                </div>
                {step === 1 && (
                  <div className="form-grid">
                    <div className="form-group full"><label>Course Title *</label><input className="input-field" placeholder="e.g. Advanced Public Procurement" /></div>
                    <div className="form-group"><label>Category</label><select className="input-field select-field"><option>Governance Basics</option><option>Finance</option><option>Integrity</option><option>Digital</option></select></div>
                    <div className="form-group"><label>Level</label><select className="input-field select-field"><option>Beginner</option><option>Intermediate</option><option>Advanced</option></select></div>
                    <div className="form-group full"><label>Description</label><textarea className="input-field" rows={3} placeholder="Course description..." /></div>
                    <div className="form-group"><label>Instructor Name</label><input className="input-field" placeholder="Dr. Name Here" /></div>
                    <div className="form-group"><label>Duration (hours)</label><input type="number" className="input-field" placeholder="8" /></div>
                  </div>
                )}
                {step === 2 && (
                  <div>
                    <p style={{color:"var(--text-muted)",marginBottom:20,fontSize:14}}>Add at least 12 sections. Each section has multiple topics.</p>
                    {[1,2,3].map(i => (
                      <div key={i} className="section-builder">
                        <div style={{display:"flex",gap:12,marginBottom:8}}>
                          <span style={{width:24,height:24,borderRadius:"50%",background:"var(--tertiary)",color:"var(--secondary)",fontSize:11,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}}>{i}</span>
                          <input className="input-field" placeholder={`Section ${i} title`} style={{flex:1}} />
                        </div>
                        <div style={{paddingLeft:36}}>
                          <input className="input-field" placeholder="Topic 1 (e.g. Introduction)" style={{marginBottom:8}} />
                          <input className="input-field" placeholder="Topic 2" style={{marginBottom:8}} />
                          <button style={{color:"var(--primary)",fontSize:13,fontFamily:"var(--font)",fontWeight:600}}>+ Add topic</button>
                        </div>
                      </div>
                    ))}
                    <button style={{color:"var(--primary)",fontSize:14,fontFamily:"var(--font)",fontWeight:600,marginTop:8}}>+ Add Section</button>
                  </div>
                )}
                {step === 3 && (
                  <div>
                    <p style={{color:"var(--text-muted)",marginBottom:20,fontSize:14}}>Add YouTube video URLs for each topic  embedded in-app.</p>
                    {["Topic 1: Introduction","Topic 2: Historical Context","Topic 3: Quiz"].map((t,i) => (
                      <div key={i} className="topic-video-row">
                        <span style={{fontSize:13,color:"var(--secondary)",fontWeight:600,minWidth:200}}>{t}</span>
                        <input className="input-field" placeholder="YouTube URL (https://youtube.com/watch?v=...)" style={{flex:1}} />
                      </div>
                    ))}
                  </div>
                )}
                <div style={{display:"flex",justifyContent:"flex-end",gap:12,marginTop:28,paddingTop:20,borderTop:"1px solid var(--border)"}}>
                  {step>1 && <button className="btn-outline" onClick={() => setStep(step-1)}> Back</button>}
                  <button className="btn-primary" onClick={() => step<3 ? setStep(step+1) : setShowAddCourse(false)}>{step<3?"Next ":" Publish Course"}</button>
                </div>
              </div>
            )}
            <div className="admin-card" style={{marginTop:24}}>
              <table className="admin-table">
                <thead><tr><th>Course</th><th>Level</th><th>Sections</th><th>Enrolled</th><th>Completion</th><th>Status</th><th>Actions</th></tr></thead>
                <tbody>
                  {COURSES.map(c => (
                    <tr key={c.id}>
                      <td><strong style={{color:"var(--secondary)",fontSize:14}}>{c.title}</strong></td>
                      <td><span className="badge badge-gray">{c.level}</span></td>
                      <td>{c.sections.length}</td>
                      <td>{(c.students/10|0)*10}</td>
                      <td>
                        <div style={{display:"flex",alignItems:"center",gap:8}}>
                          <div className="progress-bar" style={{width:64}}><div className="progress-fill" style={{width:`${c.rating*18}%`}} /></div>
                          <span style={{fontSize:13}}>{Math.round(c.rating*18)}%</span>
                        </div>
                      </td>
                      <td><span className="badge badge-green">Published</span></td>
                      <td><div style={{display:"flex",gap:6}}><button className="action-btn">Edit</button><button className="action-btn">View</button></div></td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        )}
        {active === "students" && (
          <div className="admin-section">
            <div className="admin-page-header">
              <div><h1>Student Management</h1><p>{MOCK_STUDENTS.length} registered students</p></div>
              <div style={{position:"relative",width:280}}>
                <span style={{position:"absolute",left:14,top:"50%",transform:"translateY(-50%)"}}></span>
                <input className="input-field" placeholder="Search students..." value={search} onChange={e => setSearch(e.target.value)} style={{paddingLeft:40}} />
              </div>
            </div>
            <div className="admin-card">
              <table className="admin-table">
                <thead><tr><th>Student</th><th>Email</th><th>Courses</th><th>Progress</th><th>Joined</th><th>Status</th><th>Actions</th></tr></thead>
                <tbody>
                  {MOCK_STUDENTS.filter(s => s.name.toLowerCase().includes(search.toLowerCase())).map(s => (
                    <tr key={s.id}>
                      <td><div style={{display:"flex",alignItems:"center",gap:10}}><div className="student-avatar-sm">{s.name[0]}</div><strong>{s.name}</strong></div></td>
                      <td style={{color:"var(--text-muted)",fontSize:13}}>{s.email}</td>
                      <td>{s.courses}</td>
                      <td><div style={{display:"flex",alignItems:"center",gap:8}}><div className="progress-bar" style={{width:80}}><div className="progress-fill" style={{width:`${s.progress}%`}} /></div><span style={{fontSize:13}}>{s.progress}%</span></div></td>
                      <td style={{fontSize:13,color:"var(--text-muted)"}}>{s.joined}</td>
                      <td><span className={`badge ${s.status==="Certified"?"badge-yellow":s.status==="Completed"?"badge-blue":"badge-green"}`}>{s.status}</span></td>
                      <td><div style={{display:"flex",gap:6}}><button className="action-btn">View</button><button className="action-btn" style={{color:"var(--primary)"}}>Award Cert</button></div></td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        )}
        {active === "certs" && (
          <div className="admin-section">
            <div className="admin-page-header"><div><h1>Certificate Management</h1><p>Manage and issue certificates</p></div></div>
            <div className="stats-grid" style={{gridTemplateColumns:"repeat(3,1fr)"}}>
              {[{i:"",v:"342",l:"Total Certificates"},{i:"",v:"28",l:"Pending Approval"},{i:"",v:"89%",l:"Download Rate"}].map(s => (
                <div key={s.l} className="admin-stat-card">
                  <div className="admin-stat-icon">{s.i}</div><div className="admin-stat-value">{s.v}</div><div className="admin-stat-label">{s.l}</div>
                </div>
              ))}
            </div>
            <div className="admin-card" style={{marginTop:24}}>
              <h3 style={{marginBottom:20}}>Recent Certificates</h3>
              <table className="admin-table">
                <thead><tr><th>Student</th><th>Course</th><th>Issued</th><th>Status</th><th>Actions</th></tr></thead>
                <tbody>
                  {[{n:"Samuel Osei",c:"Foundations of Public Governance",d:"Mar 2025"},{n:"Fatima Hassan",c:"Anti-Corruption & Integrity",d:"Feb 2025"},{n:"Adaeze Okonkwo",c:"Open Government & Civic Tech",d:"Jan 2025"}].map((c,i) => (
                    <tr key={i}>
                      <td><strong>{c.n}</strong></td>
                      <td style={{fontSize:13,color:"var(--text-secondary)"}}>{c.c}</td>
                      <td style={{fontSize:13,color:"var(--text-muted)"}}>{c.d}</td>
                      <td><span className="badge badge-green">Active</span></td>
                      <td><div style={{display:"flex",gap:6}}><button className="action-btn">View</button><button className="action-btn">Revoke</button></div></td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        )}
        {active === "settings" && (
          <div className="admin-section">
            <div className="admin-page-header"><h1>System Settings</h1></div>
            <div className="admin-card"><p style={{color:"var(--text-muted)",textAlign:"center",padding:48}}> Configure platform settings, email templates, integrations and permissions.</p></div>
          </div>
        )}
      </div>
    </div>
  );
}

// ========================= STUDENT DASHBOARD =========================
const MY_COURSES = [
  {id:1,title:"Foundations of Public Governance",progress:78,lastLesson:"Anti-Corruption Mechanisms",nextLesson:"Decentralisation",emoji:"",completedSections:9,totalSections:12,certificate:false},
  {id:2,title:"Corporate Governance Essentials",progress:45,lastLesson:"Risk Management",nextLesson:"Internal Controls",emoji:"",completedSections:6,totalSections:14,certificate:false},
  {id:3,title:"Anti-Corruption & Integrity Systems",progress:100,nextLesson:null,emoji:"",completedSections:12,totalSections:12,certificate:true},
];
const ACHIEVEMENTS = [
  {i:"",t:"First Course",d:"Enrolled in your first course",e:true},{i:"",t:"7-Day Streak",d:"Studied 7 days in a row",e:true},
  {i:"",t:"Quick Learner",d:"Completed 3 lessons in one day",e:true},{i:"",t:"Certified!",d:"Earned your first certificate",e:true},
  {i:"",t:"Halfway There",d:"50% complete on any course",e:true},{i:"",t:"Top Student",d:"Achieved 95%+ quiz score",e:false},
  {i:"",t:"Bookworm",d:"Accessed 10 library resources",e:false},{i:"",t:"Community Leader",d:"Participated in 5 discussions",e:false},
];

function StudentPage({ navigate, user }) {
  const [activeTab, setActiveTab] = useState("courses");
  const name = user?.name || "Governance Learner";
  const completedCount = MY_COURSES.filter(c=>c.progress===100).length;
  const avgProg = Math.round(MY_COURSES.reduce((s,c)=>s+c.progress,0)/MY_COURSES.length);

  return (
    <div className="page-wrapper student-dash">
      <div className="container">
        <div className="student-welcome">
          <div className="welcome-left">
            <div className="student-avatar-lg">{name[0]}</div>
            <div>
              <p className="welcome-greeting">Welcome back,</p>
              <h1 className="welcome-name">{name}</h1>
              <p className="welcome-streak"> 5-day learning streak</p>
            </div>
          </div>
          <div className="welcome-stats">
            <div className="welcome-stat"><span className="ws-num">{MY_COURSES.length}</span><span className="ws-label">Enrolled</span></div>
            <div className="welcome-stat"><span className="ws-num">{completedCount}</span><span className="ws-label">Completed</span></div>
            <div className="welcome-stat"><span className="ws-num">{avgProg}%</span><span className="ws-label">Avg Progress</span></div>
            <div className="welcome-stat"><span className="ws-num">{MY_COURSES.filter(c=>c.certificate).length}</span><span className="ws-label">Certificates</span></div>
          </div>
        </div>

        <div className="tabs student-tabs">
          {[{id:"courses",l:"My Courses"},{id:"certificates",l:"Certificates"},{id:"achievements",l:"Achievements"},{id:"explore",l:"Explore More"}].map(t => (
            <button key={t.id} className={`tab-btn ${activeTab===t.id?"active":""}`} onClick={() => setActiveTab(t.id)}>{t.l}</button>
          ))}
        </div>

        {activeTab === "courses" && (
          <div className="course-cards-student">
            {MY_COURSES.map(c => (
              <div key={c.id} className="student-course-card">
                <div className="scc-thumb">
                  <span>{c.emoji}</span>
                  {c.certificate && <span className="cert-badge"> Certified</span>}
                </div>
                <div className="scc-body">
                  <h3>{c.title}</h3>
                  <div className="scc-progress">
                    <div className="progress-bar"><div className="progress-fill" style={{width:`${c.progress}%`}} /></div>
                    <span>{c.progress}%  {c.completedSections}/{c.totalSections} sections</span>
                  </div>
                  {c.nextLesson && <p className="scc-next"> Up next: <strong>{c.nextLesson}</strong></p>}
                  <div className="scc-actions">
                    {c.progress < 100
                      ? <button className="btn-primary btn-sm" onClick={() => navigate("course", COURSES.find(x=>x.id===c.id)||COURSES[0])}>Continue Learning</button>
                      : <button className="btn-outline btn-sm">Review Course</button>}
                    {c.certificate && <button className="btn-accent btn-sm"> Download Certificate</button>}
                  </div>
                </div>
              </div>
            ))}
          </div>
        )}

        {activeTab === "certificates" && (
          <div style={{display:"flex",flexDirection:"column",gap:24}}>
            {MY_COURSES.filter(c=>c.certificate).map(c => (
              <div key={c.id} style={{background:"white",border:"1px solid var(--border)",borderRadius:"var(--radius-xl)",overflow:"hidden"}}>
                <div style={{padding:"24px 32px",background:"linear-gradient(135deg,var(--secondary),var(--primary-dark))",display:"flex",alignItems:"center",gap:24,borderBottom:"3px solid var(--primary)"}}>
                  <div style={{color:"var(--primary)",fontWeight:800,fontSize:16,flexShrink:0}}> GovHub</div>
                  <div style={{flex:1,color:"white"}}>
                    <p style={{fontSize:11,textTransform:"uppercase",letterSpacing:2,opacity:0.6,marginBottom:4}}>Certificate of Completion</p>
                    <h3 style={{fontSize:18,fontWeight:800}}>{c.title}</h3>
                    <p style={{fontSize:13,opacity:0.8,marginTop:4}}>{name}</p>
                  </div>
                  <div style={{width:52,height:52,borderRadius:"50%",border:"2px solid var(--primary)",color:"var(--primary)",fontWeight:900,fontSize:14,display:"flex",alignItems:"center",justifyContent:"center"}}>GRH</div>
                </div>
                <div style={{padding:"20px 32px",display:"flex",alignItems:"center",justifyContent:"space-between"}}>
                  <div>
                    <strong style={{fontSize:15,color:"var(--secondary)"}}>{c.title}</strong>
                    <p style={{fontSize:12,color:"var(--text-muted)",marginTop:2}}>Issued March 2025  ID: GRH-2025-{c.id}00{name.length}</p>
                  </div>
                  <div style={{display:"flex",gap:10}}>
                    <button className="btn-primary btn-sm"> Download</button>
                    <button className="btn-outline btn-sm">Share</button>
                  </div>
                </div>
              </div>
            ))}
          </div>
        )}

        {activeTab === "achievements" && (
          <div className="achievements-grid">
            {ACHIEVEMENTS.map(a => (
              <div key={a.t} className={`achievement-card ${a.e?"earned":"locked"}`}>
                <div className="achievement-icon">{a.i}</div>
                <h4>{a.t}</h4>
                <p>{a.d}</p>
                {a.e ? <span className="badge badge-green" style={{marginTop:12}}>Earned </span> : <span className="badge badge-gray" style={{marginTop:12}}>Locked </span>}
              </div>
            ))}
          </div>
        )}

        {activeTab === "explore" && (
          <div>
            <h2 style={{margin:"0 0 24px",color:"var(--secondary)",fontSize:22,fontWeight:800}}>Recommended for You</h2>
            <div className="recommended-grid">
              {COURSES.filter(c => !MY_COURSES.find(mc=>mc.id===c.id)).slice(0,3).map(c => (
                <div key={c.id} className="recommended-card" onClick={() => navigate("course", c)}>
                  <div className="rec-emoji">{c.thumbnail}</div>
                  <div className="rec-info">
                    <h4>{c.title}</h4>
                    <div style={{display:"flex",gap:8,marginTop:6,marginBottom:14,flexWrap:"wrap"}}>
                      <span className="badge badge-gray">{c.level}</span>
                      <span className="badge badge-gray"> {c.duration}</span>
                    </div>
                    <button className="btn-primary btn-sm">Enroll Now </button>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}
      </div>
    </div>
  );
}

// ========================= MOUNT =========================
const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<App />);
</script>
</body>
</html>
